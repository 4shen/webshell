{"version":3,"sources":["webpack:///./src/routes/settings/fields.vue?21ff","webpack:///./src/components/field-setup.vue?1f62","webpack:///src/components/field-setup.vue","webpack:///./src/components/field-setup.vue?c8e0","webpack:///./src/components/field-setup.vue","webpack:///./src/components/field-duplicate.vue?5d26","webpack:///src/components/field-duplicate.vue","webpack:///./src/components/field-duplicate.vue?9c13","webpack:///./src/components/field-duplicate.vue","webpack:///src/routes/settings/fields.vue","webpack:///./src/routes/settings/fields.vue?262a","webpack:///./src/routes/settings/fields.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./src/components/field-setup.vue?1aab","webpack:///./src/components/field-duplicate.vue?a437","webpack:///./src/routes/settings/fields.vue?d48f"],"names":["render","_vm","this","_h","$createElement","_c","_self","collectionInfo","staticClass","attrs","breadcrumb","currentProjectKey","slot","key","$t","on","$event","confirmRemove","saving","Object","keys","edits","length","save","_v","_s","$tc","class","dragging","startSort","saveSort","model","value","callback","$$v","fields","expression","_l","field","style","cursor","interface","stopPropagation","startEditingField","directives","name","rawName","$store","state","extensions","interfaces","_e","toManage","includes","manageField","canDuplicate","fieldOptions","fieldOptionsClicked","directusFields","values","stageValue","remove","fieldToBeRemoved","confirmFieldRemove","removeField","fieldBeingEdited","fieldSaving","editingField","setFieldSettings","fieldBeingDuplicated","duplicatingField","duplicateFieldSettings","staticRenderFns","existing","displayName","tabs","activeTab","buttons","nextTab","$emit","thing","interfaceName","interfaceFilter","group","title","ext","id","active","setInterface","icon","interfaceSubtitles","preventDefault","iconToShow","color","tooltip","slug","replacement","lower","trim","$helpers","formatTitle","type","default_value","note","fieldInfo","primary_key","required","readonly","typeOption","domProps","fieldTypeDescription","db","databaseVendor","datatype","selectedDatatypeInfo","description","decimal","lengthDisabled","validation","primaryKeyDisabled","unique","hidden_detail","hidden_browse","signed","options","limit","width","placeholder","translation","selectedInterfaceInfo","relation","relationInfo","collection_many","collection","field_many","$set","collectionsGrouped","primaryKeyFieldByCollection","collection_one","primaryKeyField","fieldsNonSystem","ref","createM2Mjunction","junctionNameM2M","autoM2Msuggestion","relationInfoM2M","currentM2MIndex","interfaceOptions","option","optionID","loading","snarkdown","comment","advanced","default","component","formatField","saveField","selectedCollection","collections","_typeof","obj","Symbol","iterator","constructor","prototype"],"mappings":"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EA,SACA,SACA,mBAFA,SAEA,GACA,eACA,sCAEA,UAGA,QATA,WAUA,iBACA,wBAGA,uBACA,gBACA,wBACA,MACA,aACA,iBACA,iCAGA,wBACA,wBAGA,yBAEA,MACA,eACA,wBACA,wBAGA,yBACA,MACA,cACA,QACA,iBACA,QAGA,aA3CA,SA2CA,GACA,qBAEA,eACA,gBAGA,UAlDA,WAmDA,OACA,WACA,eACA,iBACA,eACA,uBACA,6BACA,iCACA,qBACA,uBACA,uBACA,mBACA,eACA,iCACA,iCACA,6BACA,2BACA,iBACA,+BAGA,0BACA,uBAGA,qBACA,sBAGA,OACA,YACA,eAGA,gBACA,wBACA,0CACA,sBAGA,wBACA,oCAGA,wBACA,iDACA,4BACA,qCAKA,sBAEA,aAzGA,WAyGA,WACA,2DASA,2BACA,iCACA,yBACA,4CAGA,oCACA,2BAIA,+BAGA,6CACA,2DAEA,aApIA,WAoIA,WACA,kBAEA,qCACA,aAEA,0BACA,2DAEA,EACA,sCACA,wCACA,sCAGA,4BACA,sCAGA,GACA,gCAIA,iEACA,wCACA,+CACA,uDACA,cACA,8CACA,+EACA,kBACA,YAEA,0BACA,2DAEA,EACA,sCACA,wCACA,sCAGA,4BACA,sCAGA,GACA,gCAIA,gEACA,uCAEA,gDACA,uDACA,cAEA,+CACA,+EACA,kBACA,MAEA,sBAEA,0BACA,2DAEA,MACA,kDAEA,gCAEA,sDAEA,uCACA,4BAEA,oDACA,uCACA,4BAEA,yCAEA,+DAEA,uCACA,qCAEA,kCACA,sBACA,2BAEA,4DAEA,sDAEA,iDACA,2CACA,SAEA,sEAEA,qDACA,2CACA,SAEA,iDACA,2CACA,SAEA,wEAEA,qDACA,2CACA,SAOA,qCACA,gEAEA,wDACA,kGAMA,SAzQA,WA0QA,wCACA,+BAEA,uDAGA,qBADA,EACA,KAEA,MAGA,OArRA,SAqRA,GACA,SACA,2BADA,IAGA,gBAzRA,SAyRA,GACA,eACA,iCACA,eACA,8CACA,KAGA,mCAEA,4BAnSA,SAmSA,GACA,qBACA,8CAEA,kBAvSA,SAuSA,GAEA,SACA,WACA,oBACA,uBACA,oBACA,eAEA,kBAhTA,SAgTA,KACA,gBAIA,4BArTA,WAqTA,WACA,GACA,gCACA,UACA,oCACA,QACA,CACA,WACA,eACA,eACA,wBACA,eACA,kBACA,UACA,WAEA,CACA,yCACA,sCACA,wCACA,KACA,UACA,0CACA,wCACA,SACA,eACA,YACA,aAEA,CACA,yCACA,sCACA,wCACA,KACA,UACA,0CACA,wCACA,SACA,eACA,YACA,eAIA,GACA,IACA,kBACA,gCACA,eACA,mBACA,WACA,WACA,iBACA,iBACA,wBACA,YACA,SACA,UACA,aACA,eACA,WACA,YACA,UACA,OACA,iBACA,eACA,UACA,gBACA,UAGA,uCACA,gCACA,yCACA,kFACA,SACA,UACA,eACA,kBACA,mBACA,UACA,UACA,mFACA,OACA,eACA,iBACA,iBACA,YACA,aACA,UACA,iBACA,YACA,QACA,gBACA,WACA,WAEA,uCACA,gCACA,yCACA,kFACA,SACA,UACA,eACA,kBACA,mBACA,UACA,UACA,mFACA,OACA,eACA,iBACA,iBACA,YACA,aACA,UACA,iBACA,YACA,QACA,gBACA,WACA,WAEA,UACA,oBACA,eAEA,mCACA,kBACA,uCACA,EADA,CAEA,YAEA,mCACA,6BACA,cACA,gBACA,aAIA,mBACA,wBACA,yCACA,gBCtgDqV,I,wBCQjVwG,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,QCnBX,EAAS,WAAa,IAAI1J,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACI,MAAM,CAAC,MAAQR,EAAIa,GAAG,qBACjI,KACAb,EAAIkG,SAASyD,YAAY3J,EAAIuG,UAAUlE,MAAOrC,EAAIuG,UAAU6B,YAAY,QAAUpI,EAAI4E,SAAS9D,GAAG,CAAC,KAAO,SAASC,GAAQ,OAAOf,EAAI4J,aAAa,MAAQ,SAAS7I,GAAQ,OAAOf,EAAI8E,MAAM,YAAY,CAAC1E,EAAG,OAAO,CAACG,YAAY,UAAUO,GAAG,CAAC,OAAS,SAASC,GAAQA,EAAO2E,oBAAqB,CAACtF,EAAG,MAAM,CAACG,YAAY,WAAW,CAACH,EAAG,QAAQ,CAACJ,EAAIuB,GAAG,IAAIvB,EAAIwB,GAAGxB,EAAIyB,IAAI,aAAc,IAAI,KAAKrB,EAAG,kBAAkB,CAACI,MAAM,CAAC,SAAW,IAAIsB,MAAM,CAACC,MAAO/B,EAAsB,mBAAEgC,SAAS,SAAUC,GAAMjC,EAAI6J,mBAAmB5H,GAAKE,WAAW,uBAAuBnC,EAAIoC,GAAIlB,OAAOC,KAAKlB,KAAK6J,cAAc,SAAS1B,GAAY,OAAOhI,EAAG,SAAS,CAACQ,IAAIwH,EAAWxB,SAAS,CAAC,MAAQwB,EAAW,SAAWA,IAAepI,EAAI6J,qBAAqB,CAAC7J,EAAIuB,GAAG,IAAIvB,EAAIwB,GAAGxB,EAAIkG,SAASC,YAAYiC,IAAa,UAAS,IAAI,KAAKhI,EAAG,MAAM,CAACG,YAAY,WAAW,CAACH,EAAG,QAAQ,CAACJ,EAAIuB,GAAG,IAAIvB,EAAIwB,GAAGxB,EAAIyB,IAAI,QAAS,GAAK,IAAMzB,EAAIa,GAAG,SAAS,KAAKT,EAAG,UAAU,CAACI,MAAM,CAAC,SAAW,GAAG,MAAQR,EAAIqC,MAAM,YAAcrC,EAAIuG,UAAUlE,MAAM,aAAarC,EAAI2F,WAAWH,KAAK,mBAAmBxF,EAAI2F,WAAWC,MAAM,qBAAqB5F,EAAI2F,WAAWE,SAAS/D,MAAM,CAACC,MAAO/B,EAAS,MAAEgC,SAAS,SAAUC,GAAMjC,EAAIqC,MAAMJ,GAAKE,WAAW,YAAY,GAAG/B,EAAG,IAAI,CAACG,YAAY,cAAc,CAACP,EAAIuB,GAAG,IAAIvB,EAAIwB,GAAGxB,EAAIa,GAAG,iBAAiB,MAAMT,EAAG,IAAI,CAACJ,EAAIuB,GAAGvB,EAAIwB,GAAGxB,EAAIkG,SAASC,YAAYnG,EAAIqC,OAAS,oBAC/0C,EAAkB,GCkDtB,G,oBAAA,CACA,uBACA,OACA,uBACA,YACA,aAEA,kBACA,YACA,cAGA,KAZA,WAaA,OACA,kDACA,yDACA,WACA,YAGA,UACA,eADA,WAEA,4EAEA,qBAJA,WAKA,6DAEA,eAPA,WAQA,6EAIA,oEAMA,aAlBA,WAmBA,kEAKA,WAxBA,WAyBA,kBAGA,kBACA,8BAEA,CACA,aACA,eACA,oEARA,wBAWA,aArCA,WAqCA,WACA,KAMA,OALA,mFACA,cACA,WAGA,GAKA,qBAjDA,WAkDA,6EAEA,YApDA,WAqDA,sDACA,sBACA,4DACA,sBAEA,OADA,UACA,IACA,KAEA,QA7DA,WA8DA,OACA,MACA,4BACA,uBACA,wBAKA,OACA,MADA,SACA,GAEA,aACA,WACA,cACA,oBACA,uBACA,sBAGA,SACA,UADA,WAEA,eAEA,qBACA,mBACA,0CACA,YACA,QAEA,gCACA,SAGA,OACA,YACA,oCAGA,yBC9KyV,ICQrV,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,gmBCkIf,OACA,sBACA,SAFA,WAGA,OACA,qEACA,2DAIA,YACA,sBACA,cACA,mBAEA,OACA,YACA,YACA,cAGA,KApBA,WAqBA,OACA,YACA,6BACA,cACA,eACA,cACA,cACA,QAEA,eACA,UACA,YAEA,YACA,oBAEA,YACA,SAEA,iBACA,wBAEA,qBACA,aAEA,SAEA,sBACA,sBACA,sBAEA,0BACA,oBAEA,kBAGA,cACA,sCADA,CAEA,WAFA,WAGA,OACA,CACA,yBACA,qDAEA,CACA,uCACA,iEAEA,CACA,qDACA,4FAIA,eAlBA,WAmBA,uDAEA,eArBA,WAsBA,kDACA,EADA,CAEA,eAGA,OA3BA,WA4BA,YACA,oBADA,GAEA,eAIA,SACA,YADA,SACA,cACA,4BACA,kDACA,0CACA,GACA,cACA,YACA,aAEA,GACA,YACA,eAEA,oLACA,oCADA,OAEA,cACA,iDAHA,6CAMA,OApBA,WAoBA,WACA,mCACA,4CAEA,UACA,kCACA,iBACA,uCACA,mDACA,WACA,iCACA,cACA,mBAEA,2EAEA,mBACA,uCACA,wBACA,yCACA,cAIA,KA5CA,WA4CA,WACA,eAEA,uCACA,4CAEA,UACA,6CACA,iBACA,WACA,iCACA,cACA,mBAEA,uCACA,YACA,sCACA,wBACA,gBAEA,2EAEA,mBACA,YACA,uCACA,wBACA,yCACA,cAIA,WA3EA,YA2EA,wBACA,2BAKA,0BAJA,4BAMA,aAnFA,SAmFA,GACA,YAGA,kDAEA,uBAzFA,YAyFA,wCACA,KAEA,mCAMA,OALA,4CAEA,eACA,mCAEA,eACA,0DACA,0BAEA,yCACA,uCAEA,mBACA,kDAEA,8BACA,aACA,UAEA,WACA,4BACA,qDAEA,cACA,sBAGA,iBACA,sBACA,+BAEA,mBACA,uCACA,wBACA,yCACA,cAKA,iBArIA,YAqIA,oNACA,iBAEA,6BACA,cACA,+BAEA,gCACA,yCARA,UAWA,EAXA,iCAYA,mBACA,aACA,QACA,GAfA,gBAYA,EAZA,EAYA,KAMA,mCACA,qBACA,KAGA,WACA,4BACA,cACA,mBA1BA,yCA6BA,mBACA,aACA,GA/BA,iBA6BA,EA7BA,EA6BA,KAKA,iDAEA,WACA,4BACA,cACA,mBAvCA,WA2CA,qCAEA,EA7CA,oBA8CA,EA9CA,yDA8CA,gHACA,iBAEA,EAHA,gCAIA,sBACA,KACA,GANA,gBAIA,EAJA,EAIA,KAIA,sCARA,wCAUA,yBAVA,iBAUA,EAVA,EAUA,KACA,mCAXA,4CA9CA,uDA6DA,iBA7DA,iBA8DA,IA9DA,6BA8DA,6DACA,KA/DA,qQAkEA,KAlEA,QAsEA,kBACA,wBACA,iBACA,uCAzEA,qDA2EA,iBACA,uCACA,wBACA,yCACA,aA/EA,uFAmFA,aAxNA,SAwNA,GACA,OACA,CACA,0BACA,+BACA,iEAEA,CACA,uBACA,yBAIA,oBArOA,SAqOA,KACA,UACA,OACA,uBACA,MACA,OACA,8BACA,MACA,WAGA,eAhPA,SAgPA,GACA,4BACA,0BAEA,kBApPA,SAoPA,GACA,wBACA,sBAEA,gBAxPA,SAwPA,GACA,wBACA,4BAEA,YA5PA,SA4PA,cACA,sBAEA,uCACA,4CAEA,UACA,+BACA,iBACA,uCACA,oEACA,mBACA,wBACA,wBACA,WACA,4BACA,cACA,mBAEA,iCACA,wBACA,aAGA,mBACA,uCACA,wBACA,yCACA,cAIA,UA5RA,WA6RA,kBAEA,SA/RA,WA+RA,WACA,iBAEA,kDACA,cACA,gBAGA,mCACA,4CAEA,cACA,MADA,kBACA,oBACA,kBAEA,mCACA,kBACA,uCACA,kCACA,wBACA,YAEA,cAEA,mBACA,uCACA,wBACA,yCACA,eAKA,iBA5ZA,SA4ZA,WACA,sBAEA,iBAGA,OAFA,uCAEA,aACA,yCACA,oBACA,gBAGA,iEACA,sBACA,kBAEA,oDACA,qCACA,eACA,0CACA,+BACA,EADA,CAEA,kBACA,iBAEA,gBAEA,iCACA,qCACA,+BAGA,iBACA,6BACA,EADA,CAEA,uBAEA,oBACA,wBACA,gBACA,iBACA,4BAIA,mBACA,qCACA,eACA,wBCjmB+V,ICQ3V,G,UAAY,eACd,EACAtC,EACAwE,GACA,EACA,KACA,WACA,OAIa,e,4KCnBA,SAASwF,EAAQC,GAa9B,OATED,EADoB,oBAAXE,QAAoD,kBAApBA,OAAOC,SACtC,SAAiBF,GACzB,cAAcA,GAGN,SAAiBA,GACzB,OAAOA,GAAyB,oBAAXC,QAAyBD,EAAIG,cAAgBF,QAAUD,IAAQC,OAAOG,UAAY,gBAAkBJ,GAItHD,EAAQC,K,kFCbjB,yBAAwiB,EAAG,G,kCCA3iB,yBAA4iB,EAAG,G,kCCA/iB,yBAAwjB,EAAG","file":"js/settings_fields.ed445455.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.collectionInfo)?_c('not-found'):_c('div',{staticClass:\"settings-fields\"},[_c('v-header',{attrs:{\"breadcrumb\":_vm.breadcrumb,\"icon-link\":(\"/\" + _vm.currentProjectKey + \"/settings/collections\"),\"settings\":\"\"}},[_c('template',{slot:\"buttons\"},[_c('v-header-button',{key:\"delete\",attrs:{\"icon\":\"delete_outline\",\"background-color\":\"danger\",\"icon-color\":\"white\",\"hover-color\":\"danger-dark\",\"label\":_vm.$t('delete')},on:{\"click\":function($event){_vm.confirmRemove = true}}}),_c('v-header-button',{key:\"save\",attrs:{\"icon\":\"check\",\"background-color\":\"button-primary-background-color\",\"icon-color\":\"button-primary-text-color\",\"loading\":_vm.saving,\"disabled\":Object.keys(_vm.edits).length === 0,\"label\":_vm.$t('save')},on:{\"click\":_vm.save}})],1)],2),_c('label',{staticClass:\"type-label\"},[_vm._v(_vm._s(_vm.$tc('field', 2)))]),_c('v-notice',{attrs:{\"color\":\"warning\",\"icon\":\"warning\"}},[_vm._v(_vm._s(_vm.$t('fields_are_saved_instantly')))]),_c('div',{staticClass:\"table\"},[_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"drag\"},[_c('v-icon',{attrs:{\"name\":\"swap_vert\"}})],1),_c('div',[_vm._v(_vm._s(_vm.$tc('field', 1)))]),_c('div',[_vm._v(_vm._s(_vm.$tc('interface', 1)))])])]),_c('div',{staticClass:\"body\",class:{ dragging: _vm.dragging }},[_c('draggable',{on:{\"start\":_vm.startSort,\"end\":_vm.saveSort},model:{value:(_vm.fields),callback:function ($$v) {_vm.fields=$$v},expression:\"fields\"}},_vm._l((_vm.fields),function(field){return _c('div',{key:field.field,staticClass:\"row\"},[_c('div',{staticClass:\"drag\"},[_c('v-icon',{attrs:{\"name\":\"drag_handle\"}})],1),_c('div',{staticClass:\"inner row\",style:({ cursor: field.interface ? 'inherit' : 'default' }),on:{\"click\":function($event){$event.stopPropagation();field.interface ? _vm.startEditingField(field) : false}}},[_c('div',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(field.field.length > 25 ? field.field : null),expression:\"field.field.length > 25 ? field.field : null\"}],staticClass:\"monospace\"},[_vm._v(\" \"+_vm._s(field.field)+\" \")]),_c('div',[_vm._v(\" \"+_vm._s(_vm.$store.state.extensions.interfaces[field.interface] && _vm.$store.state.extensions.interfaces[field.interface].name)+\" \"),(!field.interface)?_c('v-button',{staticClass:\"not-managed\",attrs:{\"loading\":_vm.toManage.includes(field.field)},on:{\"click\":function($event){return _vm.manageField(field)}}},[_vm._v(\" \"+_vm._s(_vm.$t('manage'))+\" \")]):_vm._e()],1)]),(_vm.canDuplicate(field.interface) || _vm.fields.length > 1)?_c('v-contextual-menu',{staticClass:\"more-options\",attrs:{\"placement\":\"left-start\",\"options\":_vm.fieldOptions(field)},on:{\"click\":function($event){return _vm.fieldOptionsClicked(field, $event)}}}):_vm._e()],1)}),0)],1)]),_c('v-button',{staticClass:\"new-field\",on:{\"click\":function($event){return _vm.startEditingField({})}}},[_vm._v(\" \"+_vm._s(_vm.$t('new_field'))+\" \")]),(_vm.fields)?_c('v-form',{attrs:{\"fields\":_vm.directusFields,\"values\":_vm.values,\"collection\":\"directus_collections\"},on:{\"stage-value\":_vm.stageValue}}):_vm._e(),(_vm.confirmRemove)?_c('portal',{attrs:{\"to\":\"modal\"}},[_c('v-confirm',{attrs:{\"color\":\"danger\",\"message\":_vm.$t('delete_collection_are_you_sure'),\"confirm-text\":_vm.$t('delete')},on:{\"cancel\":function($event){_vm.confirmRemove = false},\"confirm\":_vm.remove}})],1):_vm._e(),(_vm.confirmFieldRemove)?_c('portal',{attrs:{\"to\":\"modal\"}},[_c('v-confirm',{attrs:{\"color\":\"danger\",\"message\":_vm.$t('delete_field_are_you_sure', { field: _vm.fieldToBeRemoved }),\"confirm-text\":_vm.$t('delete')},on:{\"cancel\":function($event){_vm.confirmFieldRemove = false},\"confirm\":function($event){return _vm.removeField(_vm.fieldToBeRemoved)}}})],1):_vm._e(),(_vm.editingField)?_c('v-field-setup',{attrs:{\"field-info\":_vm.fieldBeingEdited,\"collection-info\":_vm.collectionInfo,\"saving\":_vm.fieldSaving},on:{\"close\":function($event){_vm.editingField = false},\"save\":_vm.setFieldSettings}}):_vm._e(),(_vm.duplicatingField)?_c('v-field-duplicate',{attrs:{\"field-information\":_vm.fieldBeingDuplicated,\"collection-information\":_vm.collectionInfo},on:{\"close\":function($event){_vm.duplicatingField = false},\"save\":_vm.duplicateFieldSettings}}):_vm._e(),_c('v-info-sidebar',{attrs:{\"wide\":\"\"}},[_c('span',{staticClass:\"type-note\"},[_vm._v(\"No settings\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-modal',{attrs:{\"title\":_vm.existing ? _vm.$t('update_field') + ': ' + _vm.displayName : _vm.$t('create_field'),\"tabs\":_vm.tabs,\"active-tab\":_vm.activeTab,\"buttons\":_vm.buttons},on:{\"tab\":function($event){_vm.activeTab = $event},\"next\":_vm.nextTab,\"close\":function($event){return _vm.$emit('close')}}},[_c('template',{slot:\"interface\"},[(!_vm.existing)?_c('h1',{staticClass:\"type-heading-medium\"},[_vm._v(\" \"+_vm._s(_vm.$t('field_setup_interface'))+\" \")]):_vm._e(),(_vm.interfaceName)?_c('v-notice',{staticClass:\"currently-selected\",attrs:{\"color\":\"gray\"}},[_vm._v(\" \"+_vm._s(_vm.$t('currently_selected', { thing: _vm.interfaces[_vm.interfaceName].name }))+\" \")]):_c('v-input',{staticClass:\"interface-filter\",attrs:{\"type\":\"text\",\"placeholder\":\"Find an interface...\",\"icon-left\":\"search\",\"autofocus\":\"\"},model:{value:(_vm.interfaceFilter),callback:function ($$v) {_vm.interfaceFilter=$$v},expression:\"interfaceFilter\"}}),(!_vm.interfaceFilter)?_c('div',_vm._l((_vm.interfacesPopular),function(group){return _c('v-details',{key:group.title,attrs:{\"title\":group.title,\"open\":true}},[_c('div',{staticClass:\"interfaces\"},_vm._l((group.interfaces),function(ext){return _c('article',{key:group.title + '-' + ext.id,staticClass:\"interface\",class:{ active: _vm.interfaceName === ext.id },on:{\"click\":function($event){return _vm.setInterface(ext.id)}}},[_c('div',{staticClass:\"header\"},[_c('v-icon',{attrs:{\"name\":ext.icon || 'category',\"x-large\":\"\",\"color\":\"--white\"}})],1),_c('div',{staticClass:\"body\"},[_c('h2',[_vm._v(_vm._s(ext.name))]),_c('p',[_vm._v(_vm._s(_vm.interfaceSubtitles(ext)))])])])}),0)])}),1):_vm._e(),_c('div',[_c('div',{staticClass:\"interfaces\"},_vm._l((_vm.interfacesFiltered),function(ext){return _c('article',{key:'all-' + ext.id,staticClass:\"interface\",class:{ active: _vm.interfaceName === ext.id },on:{\"click\":function($event){return _vm.setInterface(ext.id)}}},[_c('div',{staticClass:\"header\"},[_c('v-icon',{attrs:{\"name\":ext.icon || 'category',\"x-large\":\"\",\"color\":\"--white\"}})],1),_c('div',{staticClass:\"body\"},[_c('h2',[_vm._v(_vm._s(ext.name))]),_c('p',[_vm._v(_vm._s(_vm.interfaceSubtitles(ext)))])])])}),0)])],1),(_vm.interfaceName)?_c('template',{slot:\"schema\"},[(!_vm.existing)?_c('h1',{staticClass:\"type-heading-medium\"},[_vm._v(\" \"+_vm._s(_vm.$t('field_setup_schema'))+\" \")]):_vm._e(),_c('form',{staticClass:\"schema\",on:{\"submit\":function($event){$event.preventDefault();}}},[_c('div',{staticClass:\"name\"},[_c('label',[_c('span',{staticClass:\"type-label\"},[_vm._v(_vm._s(_vm.$t('name')))]),_c('v-icon',{staticClass:\"required\",attrs:{\"name\":\"star\",\"color\":\"input-required-color\",\"sup\":\"\"}}),_c('v-input',{staticClass:\"name-input\",attrs:{\"autofocus\":\"\",\"type\":\"text\",\"placeholder\":_vm.$t('db_column_name'),\"disabled\":_vm.existing,\"icon-right\":_vm.iconToShow.icon,\"icon-right-color\":_vm.iconToShow.color,\"icon-right-tooltip\":_vm.iconToShow.tooltip,\"value\":_vm.field},on:{\"input\":function($event){_vm.field = _vm.slug($event, { replacement: '_', lower: true }).trim()}}}),_c('p',{staticClass:\"type-note\"},[_vm._v(\" \"+_vm._s(_vm.$t('display_name'))+\": \"),_c('b',[_vm._v(_vm._s(_vm.$helpers.formatTitle(_vm.field || '...')))])])],1),_c('label',[_c('span',{staticClass:\"type-label\"},[_vm._v(_vm._s(_vm.$t('default_value')))]),_c('v-input',{attrs:{\"type\":\"text\",\"placeholder\":\"NULL\",\"disabled\":_vm.type === 'o2m' || _vm.type === 'translation'},model:{value:(_vm.default_value),callback:function ($$v) {_vm.default_value=$$v},expression:\"default_value\"}})],1)]),_c('label',[_c('span',{staticClass:\"type-label\"},[_vm._v(_vm._s(_vm.$t('note')))]),_c('v-input',{attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('add_note')},model:{value:(_vm.note),callback:function ($$v) {_vm.note=$$v},expression:\"note\"}})],1),_c('div',{staticClass:\"toggles\"},[_c('v-switch',{attrs:{\"disabled\":_vm.fieldInfo.primary_key || _vm.type === 'alias',\"label\":_vm.$t('required')},model:{value:(_vm.required),callback:function ($$v) {_vm.required=$$v},expression:\"required\"}}),_c('v-switch',{attrs:{\"label\":_vm.$t('readonly')},model:{value:(_vm.readonly),callback:function ($$v) {_vm.readonly=$$v},expression:\"readonly\"}})],1),_c('details',{staticClass:\"advanced\",attrs:{\"open\":_vm.existing}},[_c('summary',[_vm._v(_vm._s(_vm.$t('advanced_options')))]),_c('div',{staticClass:\"advanced-form\"},[_c('label',[_c('span',{staticClass:\"type-label\"},[_vm._v(_vm._s(_vm.$t('field_type')))]),_c('v-simple-select',{model:{value:(_vm.type),callback:function ($$v) {_vm.type=$$v},expression:\"type\"}},_vm._l((_vm.availableFieldTypes),function(typeOption){return _c('option',{key:typeOption,domProps:{\"value\":typeOption,\"selected\":_vm.type === typeOption}},[_vm._v(\" \"+_vm._s(_vm.$helpers.formatTitle(typeOption))+\" \")])}),0),_c('small',{staticClass:\"type-note\"},[_vm._v(_vm._s(_vm.fieldTypeDescription))])],1),_c('label',[_c('span',{staticClass:\"type-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('db_datatype', { db: _vm.$helpers.formatTitle(_vm.databaseVendor) }))+\" \")]),_c('v-simple-select',{model:{value:(_vm.datatype),callback:function ($$v) {_vm.datatype=$$v},expression:\"datatype\"}},_vm._l((_vm.availableDatatypes),function(typeOption){return _c('option',{key:typeOption,domProps:{\"value\":typeOption,\"selected\":_vm.datatype === typeOption}},[_vm._v(\" \"+_vm._s(typeOption)+\" \")])}),0),_c('small',{staticClass:\"type-note\"},[_vm._v(\" \"+_vm._s(_vm.selectedDatatypeInfo && _vm.$t(_vm.selectedDatatypeInfo.description))+\" \")])],1),_c('label',[_c('span',{staticClass:\"type-label\"},[_vm._v(_vm._s(_vm.$t('length')))]),_c('v-input',{attrs:{\"type\":_vm.selectedDatatypeInfo && _vm.selectedDatatypeInfo.decimal\n\t\t\t\t\t\t\t\t\t? 'string'\n\t\t\t\t\t\t\t\t\t: 'number',\"value\":_vm.lengthDisabled ? null : _vm.length,\"disabled\":_vm.lengthDisabled,\"placeholder\":_vm.lengthDisabled ? _vm.$t('length_disabled_placeholder') : ''},on:{\"input\":function($event){_vm.length = $event}}})],1),_c('label',[_c('span',{staticClass:\"type-label\"},[_vm._v(_vm._s(_vm.$t('validation')))]),_c('v-input',{attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('regex')},model:{value:(_vm.validation),callback:function ($$v) {_vm.validation=$$v},expression:\"validation\"}})],1),_c('v-switch',{attrs:{\"disabled\":_vm.primaryKeyDisabled,\"label\":_vm.$t('primary_key')},model:{value:(_vm.primary_key),callback:function ($$v) {_vm.primary_key=$$v},expression:\"primary_key\"}}),_c('v-switch',{attrs:{\"label\":_vm.$t('unique')},model:{value:(_vm.unique),callback:function ($$v) {_vm.unique=$$v},expression:\"unique\"}}),_c('v-switch',{attrs:{\"label\":_vm.$t('hidden_detail')},model:{value:(_vm.hidden_detail),callback:function ($$v) {_vm.hidden_detail=$$v},expression:\"hidden_detail\"}}),_c('v-switch',{attrs:{\"label\":_vm.$t('hidden_browse')},model:{value:(_vm.hidden_browse),callback:function ($$v) {_vm.hidden_browse=$$v},expression:\"hidden_browse\"}}),(_vm.isNumeric)?_c('v-switch',{attrs:{\"label\":_vm.$t('signed')},model:{value:(_vm.signed),callback:function ($$v) {_vm.signed=$$v},expression:\"signed\"}}):_vm._e(),_c('label',{staticClass:\"translation\"},[_c('span',{staticClass:\"type-label\"},[_vm._v(_vm._s(_vm.$t('translation')))]),_c('v-ext-input',{attrs:{\"id\":\"repeater\",\"name\":\"translation\",\"type\":\"json\",\"width\":\"full\",\"options\":{\n\t\t\t\t\t\t\t\tfields: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tfield: 'locale',\n\t\t\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\t\t\tinterface: 'language',\n\t\t\t\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\t\t\t\tlimit: true\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\twidth: 'half'\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tfield: 'translation',\n\t\t\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\t\t\tinterface: 'text-input',\n\t\t\t\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\t\t\t\tplaceholder: _vm.$t('translated_field_name')\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\twidth: 'half'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}},model:{value:(_vm.translation),callback:function ($$v) {_vm.translation=$$v},expression:\"translation\"}})],1)],1)])])]):_vm._e(),(_vm.selectedInterfaceInfo && _vm.relation)?_c('template',{slot:\"relation\"},[(!_vm.existing)?_c('h1',{staticClass:\"type-heading-medium\"},[_vm._v(\" \"+_vm._s(_vm.$t('field_setup_relation'))+\" \")]):_vm._e(),(_vm.relation === 'm2o')?_c('form',{staticClass:\"single\"},[_c('span',{staticClass:\"type-label\"},[_vm._v(_vm._s(_vm.$t('this_collection')))]),_c('v-simple-select',{staticClass:\"select\",attrs:{\"value\":_vm.relationInfo.collection_many,\"disabled\":\"\"}},[_c('option',{attrs:{\"selected\":\"\"},domProps:{\"value\":_vm.collectionInfo.collection}},[_vm._v(\" \"+_vm._s(_vm.collectionInfo.collection)+\" \")])]),_c('v-simple-select',{staticClass:\"select\",attrs:{\"value\":_vm.relationInfo.field_many,\"disabled\":\"\"}},[_c('option',{attrs:{\"selected\":\"\"},domProps:{\"value\":_vm.field}},[_vm._v(_vm._s(_vm.field))])]),_c('v-icon',{attrs:{\"name\":\"arrow_backward\"}}),_c('span',{staticClass:\"type-label\"},[_vm._v(_vm._s(_vm.$t('related_collection')))]),_c('v-simple-select',{staticClass:\"select\",model:{value:(_vm.relationInfo.collection_one),callback:function ($$v) {_vm.$set(_vm.relationInfo, \"collection_one\", $$v)},expression:\"relationInfo.collection_one\"}},[_c('optgroup',{attrs:{\"label\":_vm.$tc('collection', 2)}},_vm._l((_vm.collectionsGrouped.user),function(collection){return _c('option',{key:collection,domProps:{\"value\":collection}},[_vm._v(\" \"+_vm._s(collection)+\" \")])}),0),_c('optgroup',{attrs:{\"label\":\"Directus\"}},_vm._l((_vm.collectionsGrouped.system),function(collection){return _c('option',{key:collection,domProps:{\"value\":collection}},[_vm._v(\" \"+_vm._s(collection)+\" \")])}),0)]),_c('v-simple-select',{staticClass:\"select\",attrs:{\"value\":_vm.primaryKeyFieldByCollection(_vm.relationInfo.collection_one).field,\"disabled\":\"\"}},[_c('option',{attrs:{\"selected\":\"\"},domProps:{\"value\":_vm.primaryKeyFieldByCollection(_vm.relationInfo.collection_one).field}},[_vm._v(\" \"+_vm._s(_vm.primaryKeyFieldByCollection(_vm.relationInfo.collection_one).field)+\" \")])])],1):_vm._e(),(_vm.relation === 'o2m')?_c('form',{staticClass:\"single\"},[_c('span',{staticClass:\"type-label\"},[_vm._v(_vm._s(_vm.$t('this_collection')))]),_c('v-simple-select',{staticClass:\"select\",attrs:{\"value\":_vm.collectionInfo.collection,\"disabled\":\"\"}},[_c('option',{attrs:{\"selected\":\"\"},domProps:{\"value\":_vm.collectionInfo.collection}},[_vm._v(\" \"+_vm._s(_vm.collectionInfo.collection)+\" \")])]),_c('v-simple-select',{staticClass:\"select\",attrs:{\"value\":_vm.primaryKeyField.field,\"disabled\":\"\"}},[_c('option',{attrs:{\"selected\":\"\"},domProps:{\"value\":_vm.primaryKeyField.field}},[_vm._v(\" \"+_vm._s(_vm.primaryKeyField.field)+\" \")])]),_c('v-icon',{attrs:{\"name\":\"arrow_forward\"}}),_c('span',{staticClass:\"type-label\"},[_vm._v(_vm._s(_vm.$t('related_collection')))]),_c('v-simple-select',{staticClass:\"select\",model:{value:(_vm.relationInfo.collection_many),callback:function ($$v) {_vm.$set(_vm.relationInfo, \"collection_many\", $$v)},expression:\"relationInfo.collection_many\"}},[_c('optgroup',{attrs:{\"label\":_vm.$tc('collection', 2)}},_vm._l((_vm.collectionsGrouped.user),function(collection){return _c('option',{key:collection,domProps:{\"value\":collection}},[_vm._v(\" \"+_vm._s(collection)+\" \")])}),0),_c('optgroup',{attrs:{\"label\":\"Directus\"}},_vm._l((_vm.collectionsGrouped.system),function(collection){return _c('option',{key:collection,domProps:{\"value\":collection}},[_vm._v(\" \"+_vm._s(collection)+\" \")])}),0)]),_c('v-simple-select',{staticClass:\"select\",model:{value:(_vm.relationInfo.field_many),callback:function ($$v) {_vm.$set(_vm.relationInfo, \"field_many\", $$v)},expression:\"relationInfo.field_many\"}},_vm._l((_vm.fieldsNonSystem(_vm.relationInfo.collection_many)),function(ref){\n\t\t\t\t\t\t\tvar field = ref.field;\nreturn _c('option',{key:field,domProps:{\"value\":field}},[_vm._v(\" \"+_vm._s(field)+\" \")])}),0)],1):_vm._e(),(_vm.relation === 'm2m')?_c('form',{staticClass:\"full\"},[_c('p',{staticClass:\"type-label\"},[_vm._v(_vm._s(_vm.$t('this_collection')))]),_c('v-simple-select',{staticClass:\"select\",attrs:{\"value\":_vm.collectionInfo.collection,\"disabled\":\"\"}},[_c('option',{attrs:{\"selected\":\"\"},domProps:{\"value\":_vm.collectionInfo.collection}},[_vm._v(\" \"+_vm._s(_vm.collectionInfo.collection)+\" \")])]),_c('v-simple-select',{staticClass:\"select\",attrs:{\"value\":_vm.primaryKeyField.field,\"disabled\":\"\"}},[_c('option',{attrs:{\"selected\":\"\"},domProps:{\"value\":_vm.primaryKeyField.field}},[_vm._v(\" \"+_vm._s(_vm.primaryKeyField.field)+\" \")])]),_c('v-icon',{attrs:{\"name\":\"arrow_forward\"}}),_c('p',{staticClass:\"type-label\"},[_vm._v(_vm._s(_vm.$t('junction_collection')))]),(!_vm.createM2Mjunction)?_c('v-simple-select',{staticClass:\"select\",model:{value:(_vm.junctionNameM2M),callback:function ($$v) {_vm.junctionNameM2M=$$v},expression:\"junctionNameM2M\"}},[_c('optgroup',{attrs:{\"label\":_vm.$tc('collection', 2)}},_vm._l((_vm.collectionsGrouped.user),function(collection){return _c('option',{key:collection,domProps:{\"value\":collection}},[_vm._v(\" \"+_vm._s(collection)+\" \")])}),0),_c('optgroup',{attrs:{\"label\":\"Directus\"}},_vm._l((_vm.collectionsGrouped.system),function(collection){return _c('option',{key:collection,domProps:{\"value\":collection}},[_vm._v(\" \"+_vm._s(collection)+\" \")])}),0)]):_vm._e(),(_vm.createM2Mjunction)?_c('v-input',{staticClass:\"select\",attrs:{\"type\":\"text\",\"placeholder\":_vm.autoM2Msuggestion(\n\t\t\t\t\t\t_vm.collectionInfo.collection,\n\t\t\t\t\t\t_vm.relationInfoM2M[_vm.currentM2MIndex == 0 ? 1 : 0].collection_one\n\t\t\t\t\t)},model:{value:(_vm.junctionNameM2M),callback:function ($$v) {_vm.junctionNameM2M=$$v},expression:\"junctionNameM2M\"}}):_vm._e(),(!_vm.createM2Mjunction)?_c('v-simple-select',{staticClass:\"select\",model:{value:(_vm.relationInfoM2M[_vm.currentM2MIndex].field_many),callback:function ($$v) {_vm.$set(_vm.relationInfoM2M[_vm.currentM2MIndex], \"field_many\", $$v)},expression:\"relationInfoM2M[currentM2MIndex].field_many\"}},_vm._l((_vm.fields(_vm.relationInfoM2M[0].collection_many)),function(ref){\n\t\t\t\t\tvar field = ref.field;\nreturn _c('option',{key:field,domProps:{\"value\":field}},[_vm._v(\" \"+_vm._s(field)+\" \")])}),0):_vm._e(),(_vm.createM2Mjunction)?_c('v-input',{staticClass:\"select\",attrs:{\"type\":\"text\",\"placeholder\":_vm.autoM2Msuggestion(_vm.collectionInfo.collection, 'id')},model:{value:(_vm.relationInfoM2M[_vm.currentM2MIndex].field_many),callback:function ($$v) {_vm.$set(_vm.relationInfoM2M[_vm.currentM2MIndex], \"field_many\", $$v)},expression:\"relationInfoM2M[currentM2MIndex].field_many\"}}):_vm._e(),(!_vm.createM2Mjunction)?_c('v-simple-select',{staticClass:\"select\",model:{value:(_vm.relationInfoM2M[_vm.currentM2MIndex === 0 ? 1 : 0].field_many),callback:function ($$v) {_vm.$set(_vm.relationInfoM2M[_vm.currentM2MIndex === 0 ? 1 : 0], \"field_many\", $$v)},expression:\"relationInfoM2M[currentM2MIndex === 0 ? 1 : 0].field_many\"}},_vm._l((_vm.fields(_vm.relationInfoM2M[0].collection_many)),function(ref){\n\t\t\t\t\tvar field = ref.field;\nreturn _c('option',{key:field,domProps:{\"value\":field}},[_vm._v(\" \"+_vm._s(field)+\" \")])}),0):_vm._e(),(_vm.createM2Mjunction)?_c('v-input',{staticClass:\"select\",attrs:{\"type\":\"text\",\"placeholder\":_vm.autoM2Msuggestion(\n\t\t\t\t\t\t_vm.relationInfoM2M[_vm.currentM2MIndex == 0 ? 1 : 0].collection_one,\n\t\t\t\t\t\t'id'\n\t\t\t\t\t)},model:{value:(_vm.relationInfoM2M[_vm.currentM2MIndex === 0 ? 1 : 0].field_many),callback:function ($$v) {_vm.$set(_vm.relationInfoM2M[_vm.currentM2MIndex === 0 ? 1 : 0], \"field_many\", $$v)},expression:\"relationInfoM2M[currentM2MIndex === 0 ? 1 : 0].field_many\"}}):_vm._e(),(!_vm.existing)?_c('v-checkbox',{attrs:{\"id\":\"createM2Mjunction\",\"value\":\"m2mjunction\",\"label\":_vm.$t('auto_generate')},model:{value:(_vm.createM2Mjunction),callback:function ($$v) {_vm.createM2Mjunction=$$v},expression:\"createM2Mjunction\"}}):_vm._e(),_c('v-icon',{attrs:{\"name\":\"arrow_backward\"}}),_c('p',{staticClass:\"type-label\"},[_vm._v(_vm._s(_vm.$t('related_collection')))]),_c('v-simple-select',{staticClass:\"select\",model:{value:(_vm.relationInfoM2M[_vm.currentM2MIndex == 0 ? 1 : 0].collection_one),callback:function ($$v) {_vm.$set(_vm.relationInfoM2M[_vm.currentM2MIndex == 0 ? 1 : 0], \"collection_one\", $$v)},expression:\"relationInfoM2M[currentM2MIndex == 0 ? 1 : 0].collection_one\"}},[_c('optgroup',{attrs:{\"label\":_vm.$tc('collection', 2)}},_vm._l((_vm.collectionsGrouped.user),function(collection){return _c('option',{key:collection,domProps:{\"value\":collection}},[_vm._v(\" \"+_vm._s(collection)+\" \")])}),0),_c('optgroup',{attrs:{\"label\":\"Directus\"}},_vm._l((_vm.collectionsGrouped.system),function(collection){return _c('option',{key:collection,domProps:{\"value\":collection}},[_vm._v(\" \"+_vm._s(collection)+\" \")])}),0)]),_c('v-simple-select',{staticClass:\"select\",attrs:{\"value\":_vm.primaryKeyFieldByCollection(\n\t\t\t\t\t\t_vm.relationInfoM2M[_vm.currentM2MIndex === 0 ? 1 : 0].collection_one\n\t\t\t\t\t).field,\"disabled\":\"\"}},[_c('option',{attrs:{\"selected\":\"\"},domProps:{\"value\":_vm.primaryKeyFieldByCollection(\n\t\t\t\t\t\t\t_vm.relationInfoM2M[_vm.currentM2MIndex === 0 ? 1 : 0].collection_one\n\t\t\t\t\t\t).field}},[_vm._v(\" \"+_vm._s(_vm.primaryKeyFieldByCollection( _vm.relationInfoM2M[_vm.currentM2MIndex === 0 ? 1 : 0].collection_one ).field)+\" \")])])],1):_vm._e()]):_vm._e(),_c('template',{slot:\"options\"},[(!_vm.existing)?_c('h1',{staticClass:\"type-heading-medium\"},[_vm._v(\" \"+_vm._s(_vm.$t('field_setup_options'))+\" \")]):_vm._e(),_c('label',{staticClass:\"type-label\",attrs:{\"for\":\"__width\"}},[_vm._v(_vm._s(_vm.$t('field_width')))]),_c('v-simple-select',{attrs:{\"name\":\"__width\"},model:{value:(_vm.width),callback:function ($$v) {_vm.width=$$v},expression:\"width\"}},[_c('option',{attrs:{\"value\":\"half\"}},[_vm._v(_vm._s(_vm.$t('field_width_half')))]),_c('option',{attrs:{\"value\":\"half-left\"}},[_vm._v(_vm._s(_vm.$t('field_width_left')))]),_c('option',{attrs:{\"value\":\"half-right\"}},[_vm._v(_vm._s(_vm.$t('field_width_right')))]),_c('option',{attrs:{\"value\":\"full\"}},[_vm._v(_vm._s(_vm.$t('field_width_full')))]),_c('option',{attrs:{\"value\":\"fill\"}},[_vm._v(_vm._s(_vm.$t('field_width_fill')))])]),_c('p',{staticClass:\"note type-note\"},[_vm._v(_vm._s(_vm.$t('field_width_note')))]),(_vm.selectedInterfaceInfo)?_c('form',{staticClass:\"options\",on:{\"submit\":function($event){$event.preventDefault();}}},[_vm._l((_vm.interfaceOptions.regular),function(option,optionID){return _c('div',{key:optionID,staticClass:\"options\"},[_c('label',{staticClass:\"type-label\",attrs:{\"for\":optionID}},[_vm._v(_vm._s(option.name))]),_c('v-ext-input',{attrs:{\"id\":option.interface,\"name\":optionID,\"type\":option.type,\"length\":option.length,\"readonly\":option.readonly,\"required\":option.required,\"loading\":option.loading,\"options\":option.options,\"value\":_vm.options[optionID],\"fields\":_vm.selectedInterfaceInfo.options,\"values\":_vm.options},on:{\"input\":function($event){return _vm.$set(_vm.options, optionID, $event)}}}),_c('p',{staticClass:\"note type-note\",domProps:{\"innerHTML\":_vm._s(_vm.$helpers.snarkdown(option.comment || ''))}})],1)}),(Object.keys(_vm.interfaceOptions.advanced).length > 0)?_c('details',{staticClass:\"advanced\",attrs:{\"open\":_vm.existing}},[_c('summary',[_vm._v(_vm._s(_vm.$t('advanced_options')))]),_vm._l((_vm.interfaceOptions.advanced),function(option,optionID){return _c('div',{key:optionID,staticClass:\"options\"},[_c('label',{staticClass:\"type-label\",attrs:{\"for\":optionID}},[_vm._v(_vm._s(option.name))]),_c('v-ext-input',{attrs:{\"id\":option.interface,\"name\":optionID,\"type\":option.type,\"length\":option.length,\"readonly\":option.readonly,\"required\":option.required,\"loading\":option.loading,\"options\":option.options,\"value\":_vm.options[optionID] || option.default,\"fields\":_vm.selectedInterfaceInfo.options,\"values\":_vm.options},on:{\"input\":function($event){return _vm.$set(_vm.options, optionID, $event)}}}),_c('p',{staticClass:\"note type-note\",domProps:{\"innerHTML\":_vm._s(_vm.$helpers.snarkdown(option.comment || ''))}})],1)})],2):_vm._e()],2):_vm._e()],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<v-modal\n\t\t:title=\"existing ? $t('update_field') + ': ' + displayName : $t('create_field')\"\n\t\t:tabs=\"tabs\"\n\t\t:active-tab=\"activeTab\"\n\t\t:buttons=\"buttons\"\n\t\t@tab=\"activeTab = $event\"\n\t\t@next=\"nextTab\"\n\t\t@close=\"$emit('close')\"\n\t>\n\t\t<template slot=\"interface\">\n\t\t\t<h1 v-if=\"!existing\" class=\"type-heading-medium\">\n\t\t\t\t{{ $t('field_setup_interface') }}\n\t\t\t</h1>\n\t\t\t<v-notice v-if=\"interfaceName\" color=\"gray\" class=\"currently-selected\">\n\t\t\t\t{{ $t('currently_selected', { thing: interfaces[interfaceName].name }) }}\n\t\t\t</v-notice>\n\t\t\t<v-input\n\t\t\t\tv-else\n\t\t\t\tv-model=\"interfaceFilter\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tplaceholder=\"Find an interface...\"\n\t\t\t\tclass=\"interface-filter\"\n\t\t\t\ticon-left=\"search\"\n\t\t\t\tautofocus\n\t\t\t/>\n\t\t\t<div v-if=\"!interfaceFilter\">\n\t\t\t\t<v-details\n\t\t\t\t\tv-for=\"group in interfacesPopular\"\n\t\t\t\t\t:key=\"group.title\"\n\t\t\t\t\t:title=\"group.title\"\n\t\t\t\t\t:open=\"true\"\n\t\t\t\t>\n\t\t\t\t\t<div class=\"interfaces\">\n\t\t\t\t\t\t<article\n\t\t\t\t\t\t\tv-for=\"ext in group.interfaces\"\n\t\t\t\t\t\t\t:key=\"group.title + '-' + ext.id\"\n\t\t\t\t\t\t\t:class=\"{ active: interfaceName === ext.id }\"\n\t\t\t\t\t\t\tclass=\"interface\"\n\t\t\t\t\t\t\t@click=\"setInterface(ext.id)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div class=\"header\">\n\t\t\t\t\t\t\t\t<v-icon :name=\"ext.icon || 'category'\" x-large color=\"--white\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t\t<h2>{{ ext.name }}</h2>\n\t\t\t\t\t\t\t\t<p>{{ interfaceSubtitles(ext) }}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</article>\n\t\t\t\t\t</div>\n\t\t\t\t</v-details>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<div class=\"interfaces\">\n\t\t\t\t\t<article\n\t\t\t\t\t\tv-for=\"ext in interfacesFiltered\"\n\t\t\t\t\t\t:key=\"'all-' + ext.id\"\n\t\t\t\t\t\t:class=\"{ active: interfaceName === ext.id }\"\n\t\t\t\t\t\tclass=\"interface\"\n\t\t\t\t\t\t@click=\"setInterface(ext.id)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"header\">\n\t\t\t\t\t\t\t<v-icon :name=\"ext.icon || 'category'\" x-large color=\"--white\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t<h2>{{ ext.name }}</h2>\n\t\t\t\t\t\t\t<p>{{ interfaceSubtitles(ext) }}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</article>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\n\t\t<template v-if=\"interfaceName\" slot=\"schema\">\n\t\t\t<h1 v-if=\"!existing\" class=\"type-heading-medium\">\n\t\t\t\t{{ $t('field_setup_schema') }}\n\t\t\t</h1>\n\t\t\t<form class=\"schema\" @submit.prevent>\n\t\t\t\t<div class=\"name\">\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<span class=\"type-label\">{{ $t('name') }}</span>\n\t\t\t\t\t\t<v-icon class=\"required\" name=\"star\" color=\"input-required-color\" sup />\n\t\t\t\t\t\t<v-input\n\t\t\t\t\t\t\tautofocus\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t:placeholder=\"$t('db_column_name')\"\n\t\t\t\t\t\t\tclass=\"name-input\"\n\t\t\t\t\t\t\t:disabled=\"existing\"\n\t\t\t\t\t\t\t:icon-right=\"iconToShow.icon\"\n\t\t\t\t\t\t\t:icon-right-color=\"iconToShow.color\"\n\t\t\t\t\t\t\t:icon-right-tooltip=\"iconToShow.tooltip\"\n\t\t\t\t\t\t\t:value=\"field\"\n\t\t\t\t\t\t\t@input=\"field = slug($event, { replacement: '_', lower: true }).trim()\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<p class=\"type-note\">\n\t\t\t\t\t\t\t{{ $t('display_name') }}:\n\t\t\t\t\t\t\t<b>{{ $helpers.formatTitle(field || '...') }}</b>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</label>\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<span class=\"type-label\">{{ $t('default_value') }}</span>\n\t\t\t\t\t\t<v-input\n\t\t\t\t\t\t\tv-model=\"default_value\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tplaceholder=\"NULL\"\n\t\t\t\t\t\t\t:disabled=\"type === 'o2m' || type === 'translation'\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t\t<label>\n\t\t\t\t\t<span class=\"type-label\">{{ $t('note') }}</span>\n\t\t\t\t\t<v-input v-model=\"note\" type=\"text\" :placeholder=\"$t('add_note')\" />\n\t\t\t\t</label>\n\n\t\t\t\t<div class=\"toggles\">\n\t\t\t\t\t<v-switch\n\t\t\t\t\t\tv-model=\"required\"\n\t\t\t\t\t\t:disabled=\"fieldInfo.primary_key || type === 'alias'\"\n\t\t\t\t\t\t:label=\"$t('required')\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<v-switch v-model=\"readonly\" :label=\"$t('readonly')\" />\n\t\t\t\t</div>\n\n\t\t\t\t<details class=\"advanced\" :open=\"existing\">\n\t\t\t\t\t<summary>{{ $t('advanced_options') }}</summary>\n\t\t\t\t\t<div class=\"advanced-form\">\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t<span class=\"type-label\">{{ $t('field_type') }}</span>\n\t\t\t\t\t\t\t<v-simple-select v-model=\"type\">\n\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\tv-for=\"typeOption in availableFieldTypes\"\n\t\t\t\t\t\t\t\t\t:key=\"typeOption\"\n\t\t\t\t\t\t\t\t\t:value=\"typeOption\"\n\t\t\t\t\t\t\t\t\t:selected=\"type === typeOption\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{{ $helpers.formatTitle(typeOption) }}\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t</v-simple-select>\n\t\t\t\t\t\t\t<small class=\"type-note\">{{ fieldTypeDescription }}</small>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t<span class=\"type-label\">\n\t\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\t\t$t('db_datatype', {\n\t\t\t\t\t\t\t\t\t\tdb: $helpers.formatTitle(databaseVendor)\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<v-simple-select v-model=\"datatype\">\n\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\tv-for=\"typeOption in availableDatatypes\"\n\t\t\t\t\t\t\t\t\t:key=\"typeOption\"\n\t\t\t\t\t\t\t\t\t:value=\"typeOption\"\n\t\t\t\t\t\t\t\t\t:selected=\"datatype === typeOption\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{{ typeOption }}\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t</v-simple-select>\n\t\t\t\t\t\t\t<small class=\"type-note\">\n\t\t\t\t\t\t\t\t{{ selectedDatatypeInfo && $t(selectedDatatypeInfo.description) }}\n\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t<span class=\"type-label\">{{ $t('length') }}</span>\n\t\t\t\t\t\t\t<v-input\n\t\t\t\t\t\t\t\t:type=\"\n\t\t\t\t\t\t\t\t\tselectedDatatypeInfo && selectedDatatypeInfo.decimal\n\t\t\t\t\t\t\t\t\t\t? 'string'\n\t\t\t\t\t\t\t\t\t\t: 'number'\n\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t:value=\"lengthDisabled ? null : length\"\n\t\t\t\t\t\t\t\t:disabled=\"lengthDisabled\"\n\t\t\t\t\t\t\t\t:placeholder=\"\n\t\t\t\t\t\t\t\t\tlengthDisabled ? $t('length_disabled_placeholder') : ''\n\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t@input=\"length = $event\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t<span class=\"type-label\">{{ $t('validation') }}</span>\n\t\t\t\t\t\t\t<v-input v-model=\"validation\" type=\"text\" :placeholder=\"$t('regex')\" />\n\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t<v-switch\n\t\t\t\t\t\t\tv-model=\"primary_key\"\n\t\t\t\t\t\t\t:disabled=\"primaryKeyDisabled\"\n\t\t\t\t\t\t\t:label=\"$t('primary_key')\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<v-switch v-model=\"unique\" :label=\"$t('unique')\" />\n\t\t\t\t\t\t<v-switch v-model=\"hidden_detail\" :label=\"$t('hidden_detail')\" />\n\t\t\t\t\t\t<v-switch v-model=\"hidden_browse\" :label=\"$t('hidden_browse')\" />\n\t\t\t\t\t\t<v-switch v-if=\"isNumeric\" v-model=\"signed\" :label=\"$t('signed')\" />\n\n\t\t\t\t\t\t<label class=\"translation\">\n\t\t\t\t\t\t\t<span class=\"type-label\">{{ $t('translation') }}</span>\n\t\t\t\t\t\t\t<v-ext-input\n\t\t\t\t\t\t\t\tid=\"repeater\"\n\t\t\t\t\t\t\t\tv-model=\"translation\"\n\t\t\t\t\t\t\t\tname=\"translation\"\n\t\t\t\t\t\t\t\ttype=\"json\"\n\t\t\t\t\t\t\t\twidth=\"full\"\n\t\t\t\t\t\t\t\t:options=\"{\n\t\t\t\t\t\t\t\t\tfields: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tfield: 'locale',\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\t\t\t\tinterface: 'language',\n\t\t\t\t\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\t\t\t\t\tlimit: true\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\twidth: 'half'\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tfield: 'translation',\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\t\t\t\tinterface: 'text-input',\n\t\t\t\t\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder: $t('translated_field_name')\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\twidth: 'half'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</details>\n\t\t\t</form>\n\t\t</template>\n\n\t\t<template v-if=\"selectedInterfaceInfo && relation\" slot=\"relation\">\n\t\t\t<h1 v-if=\"!existing\" class=\"type-heading-medium\">\n\t\t\t\t{{ $t('field_setup_relation') }}\n\t\t\t</h1>\n\n\t\t\t<form v-if=\"relation === 'm2o'\" class=\"single\">\n\t\t\t\t<span class=\"type-label\">{{ $t('this_collection') }}</span>\n\n\t\t\t\t<v-simple-select class=\"select\" :value=\"relationInfo.collection_many\" disabled>\n\t\t\t\t\t<option selected :value=\"collectionInfo.collection\">\n\t\t\t\t\t\t{{ collectionInfo.collection }}\n\t\t\t\t\t</option>\n\t\t\t\t</v-simple-select>\n\n\t\t\t\t<v-simple-select class=\"select\" :value=\"relationInfo.field_many\" disabled>\n\t\t\t\t\t<option selected :value=\"field\">{{ field }}</option>\n\t\t\t\t</v-simple-select>\n\n\t\t\t\t<v-icon name=\"arrow_backward\" />\n\n\t\t\t\t<span class=\"type-label\">{{ $t('related_collection') }}</span>\n\n\t\t\t\t<v-simple-select v-model=\"relationInfo.collection_one\" class=\"select\">\n\t\t\t\t\t<optgroup :label=\"$tc('collection', 2)\">\n\t\t\t\t\t\t<option\n\t\t\t\t\t\t\tv-for=\"collection in collectionsGrouped.user\"\n\t\t\t\t\t\t\t:key=\"collection\"\n\t\t\t\t\t\t\t:value=\"collection\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ collection }}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</optgroup>\n\t\t\t\t\t<optgroup label=\"Directus\">\n\t\t\t\t\t\t<option\n\t\t\t\t\t\t\tv-for=\"collection in collectionsGrouped.system\"\n\t\t\t\t\t\t\t:key=\"collection\"\n\t\t\t\t\t\t\t:value=\"collection\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ collection }}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</optgroup>\n\t\t\t\t</v-simple-select>\n\n\t\t\t\t<v-simple-select\n\t\t\t\t\tclass=\"select\"\n\t\t\t\t\t:value=\"primaryKeyFieldByCollection(relationInfo.collection_one).field\"\n\t\t\t\t\tdisabled\n\t\t\t\t>\n\t\t\t\t\t<option\n\t\t\t\t\t\tselected\n\t\t\t\t\t\t:value=\"primaryKeyFieldByCollection(relationInfo.collection_one).field\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ primaryKeyFieldByCollection(relationInfo.collection_one).field }}\n\t\t\t\t\t</option>\n\t\t\t\t</v-simple-select>\n\t\t\t</form>\n\n\t\t\t<form v-if=\"relation === 'o2m'\" class=\"single\">\n\t\t\t\t<span class=\"type-label\">{{ $t('this_collection') }}</span>\n\n\t\t\t\t<v-simple-select class=\"select\" :value=\"collectionInfo.collection\" disabled>\n\t\t\t\t\t<option selected :value=\"collectionInfo.collection\">\n\t\t\t\t\t\t{{ collectionInfo.collection }}\n\t\t\t\t\t</option>\n\t\t\t\t</v-simple-select>\n\n\t\t\t\t<v-simple-select class=\"select\" :value=\"primaryKeyField.field\" disabled>\n\t\t\t\t\t<option selected :value=\"primaryKeyField.field\">\n\t\t\t\t\t\t{{ primaryKeyField.field }}\n\t\t\t\t\t</option>\n\t\t\t\t</v-simple-select>\n\n\t\t\t\t<v-icon name=\"arrow_forward\" />\n\n\t\t\t\t<span class=\"type-label\">{{ $t('related_collection') }}</span>\n\n\t\t\t\t<v-simple-select v-model=\"relationInfo.collection_many\" class=\"select\">\n\t\t\t\t\t<optgroup :label=\"$tc('collection', 2)\">\n\t\t\t\t\t\t<option\n\t\t\t\t\t\t\tv-for=\"collection in collectionsGrouped.user\"\n\t\t\t\t\t\t\t:key=\"collection\"\n\t\t\t\t\t\t\t:value=\"collection\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ collection }}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</optgroup>\n\t\t\t\t\t<optgroup label=\"Directus\">\n\t\t\t\t\t\t<option\n\t\t\t\t\t\t\tv-for=\"collection in collectionsGrouped.system\"\n\t\t\t\t\t\t\t:key=\"collection\"\n\t\t\t\t\t\t\t:value=\"collection\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ collection }}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</optgroup>\n\t\t\t\t</v-simple-select>\n\n\t\t\t\t<v-simple-select v-model=\"relationInfo.field_many\" class=\"select\">\n\t\t\t\t\t<option\n\t\t\t\t\t\tv-for=\"{ field } in fieldsNonSystem(relationInfo.collection_many)\"\n\t\t\t\t\t\t:key=\"field\"\n\t\t\t\t\t\t:value=\"field\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ field }}\n\t\t\t\t\t</option>\n\t\t\t\t</v-simple-select>\n\t\t\t</form>\n\n\t\t\t<form v-if=\"relation === 'm2m'\" class=\"full\">\n\t\t\t\t<p class=\"type-label\">{{ $t('this_collection') }}</p>\n\n\t\t\t\t<v-simple-select class=\"select\" :value=\"collectionInfo.collection\" disabled>\n\t\t\t\t\t<option selected :value=\"collectionInfo.collection\">\n\t\t\t\t\t\t{{ collectionInfo.collection }}\n\t\t\t\t\t</option>\n\t\t\t\t</v-simple-select>\n\n\t\t\t\t<v-simple-select class=\"select\" :value=\"primaryKeyField.field\" disabled>\n\t\t\t\t\t<option selected :value=\"primaryKeyField.field\">\n\t\t\t\t\t\t{{ primaryKeyField.field }}\n\t\t\t\t\t</option>\n\t\t\t\t</v-simple-select>\n\n\t\t\t\t<v-icon name=\"arrow_forward\" />\n\n\t\t\t\t<p class=\"type-label\">{{ $t('junction_collection') }}</p>\n\n\t\t\t\t<v-simple-select v-if=\"!createM2Mjunction\" v-model=\"junctionNameM2M\" class=\"select\">\n\t\t\t\t\t<optgroup :label=\"$tc('collection', 2)\">\n\t\t\t\t\t\t<option\n\t\t\t\t\t\t\tv-for=\"collection in collectionsGrouped.user\"\n\t\t\t\t\t\t\t:key=\"collection\"\n\t\t\t\t\t\t\t:value=\"collection\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ collection }}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</optgroup>\n\t\t\t\t\t<optgroup label=\"Directus\">\n\t\t\t\t\t\t<option\n\t\t\t\t\t\t\tv-for=\"collection in collectionsGrouped.system\"\n\t\t\t\t\t\t\t:key=\"collection\"\n\t\t\t\t\t\t\t:value=\"collection\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ collection }}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</optgroup>\n\t\t\t\t</v-simple-select>\n\n\t\t\t\t<v-input\n\t\t\t\t\tv-if=\"createM2Mjunction\"\n\t\t\t\t\tv-model=\"junctionNameM2M\"\n\t\t\t\t\tclass=\"select\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t:placeholder=\"\n\t\t\t\t\t\tautoM2Msuggestion(\n\t\t\t\t\t\t\tcollectionInfo.collection,\n\t\t\t\t\t\t\trelationInfoM2M[currentM2MIndex == 0 ? 1 : 0].collection_one\n\t\t\t\t\t\t)\n\t\t\t\t\t\"\n\t\t\t\t/>\n\n\t\t\t\t<v-simple-select\n\t\t\t\t\tv-if=\"!createM2Mjunction\"\n\t\t\t\t\tv-model=\"relationInfoM2M[currentM2MIndex].field_many\"\n\t\t\t\t\tclass=\"select\"\n\t\t\t\t>\n\t\t\t\t\t<option\n\t\t\t\t\t\tv-for=\"{ field } in fields(relationInfoM2M[0].collection_many)\"\n\t\t\t\t\t\t:key=\"field\"\n\t\t\t\t\t\t:value=\"field\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ field }}\n\t\t\t\t\t</option>\n\t\t\t\t</v-simple-select>\n\n\t\t\t\t<v-input\n\t\t\t\t\tv-if=\"createM2Mjunction\"\n\t\t\t\t\tv-model=\"relationInfoM2M[currentM2MIndex].field_many\"\n\t\t\t\t\tclass=\"select\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t:placeholder=\"autoM2Msuggestion(collectionInfo.collection, 'id')\"\n\t\t\t\t/>\n\n\t\t\t\t<v-simple-select\n\t\t\t\t\tv-if=\"!createM2Mjunction\"\n\t\t\t\t\tv-model=\"relationInfoM2M[currentM2MIndex === 0 ? 1 : 0].field_many\"\n\t\t\t\t\tclass=\"select\"\n\t\t\t\t>\n\t\t\t\t\t<option\n\t\t\t\t\t\tv-for=\"{ field } in fields(relationInfoM2M[0].collection_many)\"\n\t\t\t\t\t\t:key=\"field\"\n\t\t\t\t\t\t:value=\"field\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ field }}\n\t\t\t\t\t</option>\n\t\t\t\t</v-simple-select>\n\n\t\t\t\t<v-input\n\t\t\t\t\tv-if=\"createM2Mjunction\"\n\t\t\t\t\tv-model=\"relationInfoM2M[currentM2MIndex === 0 ? 1 : 0].field_many\"\n\t\t\t\t\tclass=\"select\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t:placeholder=\"\n\t\t\t\t\t\tautoM2Msuggestion(\n\t\t\t\t\t\t\trelationInfoM2M[currentM2MIndex == 0 ? 1 : 0].collection_one,\n\t\t\t\t\t\t\t'id'\n\t\t\t\t\t\t)\n\t\t\t\t\t\"\n\t\t\t\t/>\n\n\t\t\t\t<v-checkbox\n\t\t\t\t\tv-if=\"!existing\"\n\t\t\t\t\tid=\"createM2Mjunction\"\n\t\t\t\t\tvalue=\"m2mjunction\"\n\t\t\t\t\t:label=\"$t('auto_generate')\"\n\t\t\t\t\tv-model=\"createM2Mjunction\"\n\t\t\t\t/>\n\n\t\t\t\t<v-icon name=\"arrow_backward\" />\n\n\t\t\t\t<p class=\"type-label\">{{ $t('related_collection') }}</p>\n\n\t\t\t\t<v-simple-select\n\t\t\t\t\tv-model=\"relationInfoM2M[currentM2MIndex == 0 ? 1 : 0].collection_one\"\n\t\t\t\t\tclass=\"select\"\n\t\t\t\t>\n\t\t\t\t\t<optgroup :label=\"$tc('collection', 2)\">\n\t\t\t\t\t\t<option\n\t\t\t\t\t\t\tv-for=\"collection in collectionsGrouped.user\"\n\t\t\t\t\t\t\t:key=\"collection\"\n\t\t\t\t\t\t\t:value=\"collection\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ collection }}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</optgroup>\n\t\t\t\t\t<optgroup label=\"Directus\">\n\t\t\t\t\t\t<option\n\t\t\t\t\t\t\tv-for=\"collection in collectionsGrouped.system\"\n\t\t\t\t\t\t\t:key=\"collection\"\n\t\t\t\t\t\t\t:value=\"collection\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ collection }}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</optgroup>\n\t\t\t\t</v-simple-select>\n\n\t\t\t\t<v-simple-select\n\t\t\t\t\tclass=\"select\"\n\t\t\t\t\t:value=\"\n\t\t\t\t\t\tprimaryKeyFieldByCollection(\n\t\t\t\t\t\t\trelationInfoM2M[currentM2MIndex === 0 ? 1 : 0].collection_one\n\t\t\t\t\t\t).field\n\t\t\t\t\t\"\n\t\t\t\t\tdisabled\n\t\t\t\t>\n\t\t\t\t\t<option\n\t\t\t\t\t\tselected\n\t\t\t\t\t\t:value=\"\n\t\t\t\t\t\t\tprimaryKeyFieldByCollection(\n\t\t\t\t\t\t\t\trelationInfoM2M[currentM2MIndex === 0 ? 1 : 0].collection_one\n\t\t\t\t\t\t\t).field\n\t\t\t\t\t\t\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{\n\t\t\t\t\t\t\tprimaryKeyFieldByCollection(\n\t\t\t\t\t\t\t\trelationInfoM2M[currentM2MIndex === 0 ? 1 : 0].collection_one\n\t\t\t\t\t\t\t).field\n\t\t\t\t\t\t}}\n\t\t\t\t\t</option>\n\t\t\t\t</v-simple-select>\n\t\t\t</form>\n\t\t</template>\n\n\t\t<template slot=\"options\">\n\t\t\t<h1 v-if=\"!existing\" class=\"type-heading-medium\">\n\t\t\t\t{{ $t('field_setup_options') }}\n\t\t\t</h1>\n\n\t\t\t<label for=\"__width\" class=\"type-label\">{{ $t('field_width') }}</label>\n\t\t\t<v-simple-select v-model=\"width\" name=\"__width\">\n\t\t\t\t<option value=\"half\">{{ $t('field_width_half') }}</option>\n\t\t\t\t<option value=\"half-left\">{{ $t('field_width_left') }}</option>\n\t\t\t\t<option value=\"half-right\">{{ $t('field_width_right') }}</option>\n\t\t\t\t<option value=\"full\">{{ $t('field_width_full') }}</option>\n\t\t\t\t<option value=\"fill\">{{ $t('field_width_fill') }}</option>\n\t\t\t</v-simple-select>\n\t\t\t<p class=\"note type-note\">{{ $t('field_width_note') }}</p>\n\n\t\t\t<form v-if=\"selectedInterfaceInfo\" class=\"options\" @submit.prevent>\n\t\t\t\t<div\n\t\t\t\t\tv-for=\"(option, optionID) in interfaceOptions.regular\"\n\t\t\t\t\t:key=\"optionID\"\n\t\t\t\t\tclass=\"options\"\n\t\t\t\t>\n\t\t\t\t\t<label :for=\"optionID\" class=\"type-label\">{{ option.name }}</label>\n\t\t\t\t\t<v-ext-input\n\t\t\t\t\t\t:id=\"option.interface\"\n\t\t\t\t\t\t:name=\"optionID\"\n\t\t\t\t\t\t:type=\"option.type\"\n\t\t\t\t\t\t:length=\"option.length\"\n\t\t\t\t\t\t:readonly=\"option.readonly\"\n\t\t\t\t\t\t:required=\"option.required\"\n\t\t\t\t\t\t:loading=\"option.loading\"\n\t\t\t\t\t\t:options=\"option.options\"\n\t\t\t\t\t\t:value=\"options[optionID]\"\n\t\t\t\t\t\t:fields=\"selectedInterfaceInfo.options\"\n\t\t\t\t\t\t:values=\"options\"\n\t\t\t\t\t\t@input=\"$set(options, optionID, $event)\"\n\t\t\t\t\t/>\n\t\t\t\t\t<p class=\"note type-note\" v-html=\"$helpers.snarkdown(option.comment || '')\" />\n\t\t\t\t</div>\n\n\t\t\t\t<details\n\t\t\t\t\tv-if=\"Object.keys(interfaceOptions.advanced).length > 0\"\n\t\t\t\t\tclass=\"advanced\"\n\t\t\t\t\t:open=\"existing\"\n\t\t\t\t>\n\t\t\t\t\t<summary>{{ $t('advanced_options') }}</summary>\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-for=\"(option, optionID) in interfaceOptions.advanced\"\n\t\t\t\t\t\t:key=\"optionID\"\n\t\t\t\t\t\tclass=\"options\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<label :for=\"optionID\" class=\"type-label\">{{ option.name }}</label>\n\t\t\t\t\t\t<v-ext-input\n\t\t\t\t\t\t\t:id=\"option.interface\"\n\t\t\t\t\t\t\t:name=\"optionID\"\n\t\t\t\t\t\t\t:type=\"option.type\"\n\t\t\t\t\t\t\t:length=\"option.length\"\n\t\t\t\t\t\t\t:readonly=\"option.readonly\"\n\t\t\t\t\t\t\t:required=\"option.required\"\n\t\t\t\t\t\t\t:loading=\"option.loading\"\n\t\t\t\t\t\t\t:options=\"option.options\"\n\t\t\t\t\t\t\t:value=\"options[optionID] || option.default\"\n\t\t\t\t\t\t\t:fields=\"selectedInterfaceInfo.options\"\n\t\t\t\t\t\t\t:values=\"options\"\n\t\t\t\t\t\t\t@input=\"$set(options, optionID, $event)\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<p\n\t\t\t\t\t\t\tclass=\"note type-note\"\n\t\t\t\t\t\t\tv-html=\"$helpers.snarkdown(option.comment || '')\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</details>\n\t\t\t</form>\n\t\t</template>\n\t</v-modal>\n</template>\n\n<script>\nimport formatTitle from '@directus/format-title';\nimport mapping, { datatypes } from '../type-map';\nimport { defaultFull } from '../store/modules/permissions/defaults';\nimport slug from 'slug';\nimport { cloneDeep, pickBy, find, findIndex, forEach } from 'lodash';\n\nexport default {\n\tname: 'VFieldSetup',\n\tprops: {\n\t\tcollectionInfo: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t},\n\t\tfieldInfo: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t},\n\t\tsaving: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tactiveTab: 'interface',\n\t\t\tid: null,\n\t\t\tsort: null,\n\n\t\t\tfield: null,\n\t\t\tisFieldValid: null,\n\t\t\tdatatype: null,\n\t\t\ttype: null,\n\t\t\tinterfaceName: null,\n\t\t\tinterfaceFilter: null,\n\t\t\toptions: {},\n\t\t\ttranslation: {},\n\t\t\treadonly: false,\n\t\t\trequired: false,\n\t\t\tunique: false,\n\t\t\tnote: null,\n\t\t\thidden_detail: false,\n\t\t\thidden_browse: false,\n\t\t\tprimary_key: false,\n\t\t\tsigned: true,\n\t\t\twidth: 'full',\n\n\t\t\tlength: null,\n\t\t\tdefault_value: null,\n\t\t\tvalidation: null,\n\n\t\t\trelationInfo: {\n\t\t\t\tid: null,\n\t\t\t\tcollection_many: null,\n\t\t\t\tfield_many: null,\n\n\t\t\t\tcollection_one: null,\n\t\t\t\tfield_one: null\n\t\t\t},\n\n\t\t\trelationInfoM2M: [\n\t\t\t\t{\n\t\t\t\t\tid: null,\n\t\t\t\t\tcollection_many: null,\n\t\t\t\t\tfield_many: null,\n\n\t\t\t\t\tcollection_one: null,\n\t\t\t\t\tfield_one: null,\n\n\t\t\t\t\tjunction_field: null\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: null,\n\t\t\t\t\tcollection_many: null,\n\t\t\t\t\tfield_many: null,\n\n\t\t\t\t\tcollection_one: null,\n\t\t\t\t\tfield_one: null,\n\n\t\t\t\t\tjunction_field: null\n\t\t\t\t}\n\t\t\t],\n\n\t\t\tcreateM2Mjunction: false,\n\t\t\tjunctionNameM2M: null\n\t\t};\n\t},\n\tcomputed: {\n\t\ticonToShow() {\n\t\t\tif (!this.field || this.existing) {\n\t\t\t\treturn { icon: null, color: null };\n\t\t\t}\n\t\t\tif (this.isFieldValid) {\n\t\t\t\treturn { icon: 'done', color: 'success' };\n\t\t\t}\n\t\t\treturn {\n\t\t\t\ticon: 'error',\n\t\t\t\tcolor: 'danger',\n\t\t\t\ttooltip: this.$t('field_already_exists', { field: \"'\" + this.field + \"'\" })\n\t\t\t};\n\t\t},\n\t\tcollections() {\n\t\t\treturn cloneDeep(this.$store.state.collections);\n\t\t},\n\t\tcollectionsGrouped() {\n\t\t\tlet restrictedCollection = [\n\t\t\t\t'directus_collections',\n\t\t\t\t'directus_activity',\n\t\t\t\t'directus_fields',\n\t\t\t\t'directus_relations'\n\t\t\t];\n\t\t\tconst collectionNames = Object.keys(this.collections);\n\t\t\tconst system = collectionNames.filter(\n\t\t\t\tname => name.startsWith('directus_') && !restrictedCollection.includes(name)\n\t\t\t);\n\t\t\tconst user = collectionNames.filter(name => !name.startsWith('directus_'));\n\t\t\treturn { system, user };\n\t\t},\n\t\tinterfaces() {\n\t\t\treturn cloneDeep(this.$store.state.extensions.interfaces);\n\t\t},\n\t\tinterfacesPopular() {\n\t\t\tconst groups = [\n\t\t\t\t{\n\t\t\t\t\ttitle: this.$t('popular'),\n\t\t\t\t\tinterfaces: [\n\t\t\t\t\t\t'text-input',\n\t\t\t\t\t\t'textarea',\n\t\t\t\t\t\t'wysiwyg',\n\t\t\t\t\t\t'switch',\n\t\t\t\t\t\t'datetime',\n\t\t\t\t\t\t'calendar',\n\t\t\t\t\t\t'file',\n\t\t\t\t\t\t'many-to-one'\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t];\n\n\t\t\treturn groups.map(group => ({\n\t\t\t\t...group,\n\t\t\t\tinterfaces: group.interfaces.map(name => this.interfaces[name])\n\t\t\t}));\n\t\t},\n\t\tinterfacesFiltered() {\n\t\t\tif (!this.interfaceFilter) return this.interfaces;\n\t\t\treturn Object.keys(this.interfaces)\n\t\t\t\t.filter(interfaceName => {\n\t\t\t\t\treturn formatTitle(interfaceName)\n\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t.includes(this.interfaceFilter.toLowerCase());\n\t\t\t\t})\n\t\t\t\t.map(interfaceName => ({ ...this.interfaces[interfaceName] }));\n\t\t},\n\t\tdatabaseVendor() {\n\t\t\treturn cloneDeep(this.$store.state.serverInfo.databaseVendor);\n\t\t},\n\t\tprimaryKeyDisabled() {\n\t\t\tif (!this.primaryKeyField) return false;\n\n\t\t\treturn true;\n\t\t},\n\t\tprimaryKeyTooltip() {\n\t\t\tif (!this.primaryKeyField) return null;\n\n\t\t\tif (this.field === this.primaryKeyField.field) {\n\t\t\t\treturn this.$t('cant_disable_primary');\n\t\t\t}\n\n\t\t\treturn this.$t('max_one_primary_key');\n\t\t},\n\t\tselectedInterfaceInfo() {\n\t\t\tif (!this.interfaceName) return null;\n\n\t\t\treturn Object.assign({}, this.interfaces[this.interfaceName]);\n\t\t},\n\t\tinterfaceOptions() {\n\t\t\tif (!this.selectedInterfaceInfo) return null;\n\t\t\tconst options = Object.assign({}, this.selectedInterfaceInfo.options);\n\t\t\tconst regular = pickBy(options, opt => !opt.advanced);\n\t\t\tconst advanced = pickBy(options, opt => opt.advanced === true);\n\n\t\t\treturn { regular, advanced };\n\t\t},\n\t\texisting() {\n\t\t\treturn this.id !== null;\n\t\t},\n\t\tschemaDisabled() {\n\t\t\treturn !(this.interfaceName && this.interfaceName.length > 0);\n\t\t},\n\t\toptionsDisabled() {\n\t\t\treturn this.schemaDisabled === true || !this.field;\n\t\t},\n\t\tdisplayName() {\n\t\t\tif (!this.field) return '';\n\t\t\treturn this.$helpers.formatTitle(this.field);\n\t\t},\n\t\tavailableFieldTypes() {\n\t\t\tif (!this.interfaceName) return [];\n\t\t\treturn (\n\t\t\t\t(this.interfaces[this.interfaceName] &&\n\t\t\t\t\tthis.interfaces[this.interfaceName].types) ||\n\t\t\t\t[]\n\t\t\t);\n\t\t},\n\t\tavailableDatatypes() {\n\t\t\tif (!this.type) return [];\n\t\t\tif (this.availableFieldTypes.length === 0) return [];\n\t\t\treturn mapping[this.type][this.databaseVendor].datatypes;\n\t\t},\n\t\tselectedDatatypeInfo() {\n\t\t\treturn datatypes[this.databaseVendor][this.datatype];\n\t\t},\n\t\tfieldTypeDescription() {\n\t\t\tif (!this.type) return null;\n\n\t\t\treturn mapping[this.type] && this.$t(mapping[this.type].description);\n\t\t},\n\t\tlengthDisabled() {\n\t\t\tif (this.selectedDatatypeInfo && this.selectedDatatypeInfo.length === true) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (this.selectedDatatypeInfo && this.selectedDatatypeInfo.decimal === true) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t},\n\t\trelation() {\n\t\t\tif (!this.selectedInterfaceInfo) return null;\n\t\t\tif (!this.selectedInterfaceInfo.relation) return null;\n\n\t\t\tconst relationsThatDontNeedSetup = ['file', 'user'];\n\n\t\t\tlet relation;\n\n\t\t\tif (typeof this.selectedInterfaceInfo.relation === 'string') {\n\t\t\t\trelation = this.selectedInterfaceInfo.relation;\n\t\t\t} else {\n\t\t\t\trelation = this.selectedInterfaceInfo.relation.type;\n\t\t\t}\n\n\t\t\tif (relationsThatDontNeedSetup.includes(relation)) {\n\t\t\t\trelation = null;\n\t\t\t}\n\n\t\t\treturn relation;\n\t\t},\n\t\tbuttons() {\n\t\t\tlet disabled = false;\n\t\t\tif (this.activeTab === 'interface' && !this.interfaceName) {\n\t\t\t\tdisabled = true;\n\t\t\t}\n\t\t\tif (this.activeTab === 'schema' && !this.field) {\n\t\t\t\tdisabled = true;\n\t\t\t}\n\t\t\tif (this.fieldValid && !this.existing) {\n\t\t\t\tdisabled = true;\n\t\t\t}\n\n\t\t\tlet text = this.$t('next');\n\n\t\t\tif (\n\t\t\t\tthis.activeTab === 'options' ||\n\t\t\t\t(this.activeTab === 'schema' && this.hasOptions === false) ||\n\t\t\t\tthis.existing\n\t\t\t) {\n\t\t\t\ttext = this.$t('save');\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tnext: {\n\t\t\t\t\tdisabled,\n\t\t\t\t\ttext,\n\t\t\t\t\tloading: this.saving\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\ttabs() {\n\t\t\tconst tabs = {\n\t\t\t\tinterface: {\n\t\t\t\t\ttext: this.$tc('interface', 1)\n\t\t\t\t},\n\t\t\t\tschema: {\n\t\t\t\t\ttext: this.$t('schema'),\n\t\t\t\t\tdisabled: !(this.interfaceName && this.interfaceName.length > 0)\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif (this.relation) {\n\t\t\t\ttabs.relation = {\n\t\t\t\t\ttext: this.$t('relation'),\n\t\t\t\t\tdisabled: this.schemaDisabled === true || !this.field\n\t\t\t\t};\n\t\t\t}\n\n\t\t\ttabs.options = {\n\t\t\t\ttext: this.$t('options'),\n\t\t\t\tdisabled: this.schemaDisabled === true || !this.field\n\t\t\t};\n\n\t\t\treturn tabs;\n\t\t},\n\t\thasOptions() {\n\t\t\tconst interfaceOptions =\n\t\t\t\t(this.selectedInterfaceInfo && this.selectedInterfaceInfo.options) || {};\n\n\t\t\tif (this.interfaceName && Object.keys(interfaceOptions).length > 0) return true;\n\n\t\t\treturn false;\n\t\t},\n\t\tprimaryKeyField() {\n\t\t\treturn find(this.collectionInfo.fields, {\n\t\t\t\tprimary_key: true\n\t\t\t});\n\t\t},\n\t\tcurrentM2MIndex() {\n\t\t\tconst index = findIndex(this.relationInfoM2M, info => {\n\t\t\t\treturn info.collection_one === this.collectionInfo.collection;\n\t\t\t});\n\n\t\t\tif (index === -1) return 0;\n\t\t\treturn index;\n\t\t},\n\t\tisNumeric() {\n\t\t\treturn this.type === 'integer';\n\t\t}\n\t},\n\twatch: {\n\t\tfieldInfo() {\n\t\t\tthis.useFieldInfo();\n\t\t},\n\t\tinterfaceName(name, oldName) {\n\t\t\tif (!name) return;\n\n\t\t\tif (name !== this.fieldInfo.interface) {\n\t\t\t\tconst options = {\n\t\t\t\t\t...this.interfaceOptions.advanced,\n\t\t\t\t\t...this.interfaceOptions.regular\n\t\t\t\t};\n\n\t\t\t\tforEach(options, (info, key) => {\n\t\t\t\t\tthis.$set(this.options, key, info.default);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (this.existing && oldName == null) return;\n\n\t\t\tthis.type = this.availableFieldTypes[0];\n\n\t\t\tthis.datatype = this.type ? mapping[this.type][this.databaseVendor].default : null;\n\n\t\t\tif (this.existing) return;\n\n\t\t\tif (this.selectedInterfaceInfo && this.selectedInterfaceInfo.recommended) {\n\t\t\t\tconst {\n\t\t\t\t\tdefaultValue,\n\t\t\t\t\tlength,\n\t\t\t\t\tvalidation,\n\t\t\t\t\trequired\n\t\t\t\t} = this.selectedInterfaceInfo.recommended;\n\n\t\t\t\tif (defaultValue) {\n\t\t\t\t\tthis.default_value = defaultValue;\n\t\t\t\t}\n\n\t\t\t\tif (length) {\n\t\t\t\t\tthis.length = length;\n\t\t\t\t}\n\n\t\t\t\tif (validation) {\n\t\t\t\t\tthis.validation = validation;\n\t\t\t\t}\n\n\t\t\t\tif (required !== undefined) {\n\t\t\t\t\tthis.required = required;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.initRelation();\n\t\t},\n\t\ttype(type) {\n\t\t\tif (this.existing) return;\n\n\t\t\tif (type) {\n\t\t\t\tthis.datatype = mapping[type][this.databaseVendor].default;\n\t\t\t\t// NOTE: this is to force string types that are longer than 255 characters into a TEXT mysql\n\t\t\t\t// type. This should be refactored and cleaned up when this field-setup component is getting\n\t\t\t\t// refactored.\n\t\t\t\t// Also, this is hardcoded for MySQL TEXT.\n\t\t\t\t// Fix for https://github.com/directus/app/issues/1149\n\t\t\t\tif (this.length > 255 && this.type.toLowerCase() === 'string') {\n\t\t\t\t\tthis.datatype = 'TEXT';\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tdatatype() {\n\t\t\tif (this.existing && this.length !== null) return;\n\n\t\t\tif (\n\t\t\t\tthis.selectedInterfaceInfo &&\n\t\t\t\tthis.selectedInterfaceInfo.recommended &&\n\t\t\t\tthis.selectedInterfaceInfo.recommended.length\n\t\t\t) {\n\t\t\t\tthis.length = this.selectedInterfaceInfo.recommended.length;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.selectedDatatypeInfo && this.selectedDatatypeInfo.length) {\n\t\t\t\tthis.length = this.selectedDatatypeInfo.defaultLength;\n\n\t\t\t\tif (mapping[this.type][this.databaseVendor].length) {\n\t\t\t\t\tthis.length = mapping[this.type][this.databaseVendor].length;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.selectedDatatypeInfo && this.selectedDatatypeInfo.decimal) {\n\t\t\t\tthis.length =\n\t\t\t\t\tthis.selectedDatatypeInfo.defaultDigits +\n\t\t\t\t\t',' +\n\t\t\t\t\tthis.selectedDatatypeInfo.defaultDecimals;\n\t\t\t}\n\t\t},\n\t\tlengthDisabled(disabled) {\n\t\t\tif (disabled) {\n\t\t\t\tthis.length = null;\n\t\t\t}\n\t\t},\n\t\tfield(val) {\n\t\t\tthis.isFieldValid = !Object.keys(this.collectionInfo.fields).includes(val);\n\n\t\t\tif (this.relation) {\n\t\t\t\tif (this.relation === 'm2o') {\n\t\t\t\t\tthis.relationInfo.field_many = this.field;\n\t\t\t\t}\n\n\t\t\t\tif (this.relation === 'o2m') {\n\t\t\t\t\tthis.relationInfo.field_one = this.field;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\trelationInfoM2M: {\n\t\t\tdeep: true,\n\t\t\thandler() {\n\t\t\t\tif (this.createM2Mjunction) {\n\t\t\t\t\tvar val0 = (this.relationInfoM2M[0].field_many = this.validateFieldName(\n\t\t\t\t\t\tthis.relationInfoM2M[0].field_many\n\t\t\t\t\t));\n\t\t\t\t\tvar val1 = (this.relationInfoM2M[1].field_many = this.validateFieldName(\n\t\t\t\t\t\tthis.relationInfoM2M[1].field_many\n\t\t\t\t\t));\n\t\t\t\t\tthis.relationInfoM2M[0].junction_field = val1;\n\t\t\t\t\tthis.relationInfoM2M[1].junction_field = val0;\n\t\t\t\t} else {\n\t\t\t\t\tthis.relationInfoM2M[0].junction_field = this.relationInfoM2M[1].field_many;\n\t\t\t\t\tthis.relationInfoM2M[1].junction_field = this.relationInfoM2M[0].field_many;\n\t\t\t\t}\n\t\t\t\tthis.relationInfoM2M[this.currentM2MIndex].field_one = this.field;\n\t\t\t}\n\t\t},\n\t\trelationInfo: {\n\t\t\tdeep: true,\n\t\t\thandler() {\n\t\t\t\tif (this.relation === 'o2m') {\n\t\t\t\t\tthis.getM2OID();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tcreateM2Mjunction(enabled) {\n\t\t\tif (enabled) {\n\t\t\t\tvar ix = this.currentM2MIndex;\n\t\t\t\tvar currentCollection = this.collectionInfo.collection;\n\t\t\t\tthis.relationInfoM2M[ix].field_one = currentCollection;\n\t\t\t\tthis.relationInfoM2M[ix === 0 ? 1 : 0].field_one = currentCollection;\n\t\t\t\tthis.junctionNameM2M = this.autoM2Msuggestion(\n\t\t\t\t\tcurrentCollection,\n\t\t\t\t\tthis.relationInfoM2M[ix == 0 ? 1 : 0].collection_one\n\t\t\t\t);\n\t\t\t\tthis.relationInfoM2M[ix].field_many = this.autoM2Msuggestion(\n\t\t\t\t\tcurrentCollection,\n\t\t\t\t\t'id'\n\t\t\t\t);\n\t\t\t\tthis.relationInfoM2M[ix === 0 ? 1 : 0].field_many = this.autoM2Msuggestion(\n\t\t\t\t\tthis.relationInfoM2M[ix == 0 ? 1 : 0].collection_one,\n\t\t\t\t\t'id'\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tthis.initRelation();\n\t\t\t}\n\t\t},\n\t\tjunctionNameM2M(val) {\n\t\t\tif (this.createM2Mjunction) {\n\t\t\t\tvar formatval = this.validateFieldName(val);\n\t\t\t\tthis.junctionNameM2M = formatval;\n\t\t\t\tthis.relationInfoM2M[0].collection_many = formatval;\n\t\t\t\tthis.relationInfoM2M[1].collection_many = formatval;\n\t\t\t} else {\n\t\t\t\tthis.relationInfoM2M[0].collection_many = val;\n\t\t\t\tthis.relationInfoM2M[1].collection_many = val;\n\t\t\t}\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.useFieldInfo();\n\t\tthis.initRelation();\n\n\t\tthis.activeTab = this.existing ? 'options' : 'interface';\n\t},\n\tmethods: {\n\t\tslug,\n\t\tinterfaceSubtitles(ext) {\n\t\t\tif (ext.types) {\n\t\t\t\treturn this.$helpers.formatTitle(ext.types[0]);\n\t\t\t} else {\n\t\t\t\treturn 'String';\n\t\t\t}\n\t\t},\n\t\tnextTab() {\n\t\t\tif (this.existing) {\n\t\t\t\treturn this.saveField();\n\t\t\t}\n\n\t\t\tswitch (this.activeTab) {\n\t\t\t\tcase 'interface':\n\t\t\t\t\tthis.activeTab = 'schema';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'schema':\n\t\t\t\t\tif (this.relation) {\n\t\t\t\t\t\treturn (this.activeTab = 'relation');\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.hasOptions === false) {\n\t\t\t\t\t\treturn this.saveField();\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.activeTab = 'options';\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'relation':\n\t\t\t\t\tif (this.hasOptions === false) {\n\t\t\t\t\t\treturn this.saveField();\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.activeTab = 'options';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'options':\n\t\t\t\tdefault:\n\t\t\t\t\tthis.saveField();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\tsetInterface(id) {\n\t\t\tthis.interfaceName = id;\n\n\t\t\tif (!this.existing) {\n\t\t\t\tthis.nextTab();\n\t\t\t}\n\t\t},\n\t\tsaveField() {\n\t\t\tconst fieldInfo = {\n\t\t\t\tid: this.id,\n\t\t\t\tsort: this.sort,\n\t\t\t\tfield: this.field,\n\t\t\t\ttype: this.type,\n\t\t\t\tdatatype: this.datatype,\n\t\t\t\tinterface: this.interfaceName,\n\t\t\t\tdefault_value: this.default_value,\n\t\t\t\toptions: this.options,\n\t\t\t\treadonly: this.readonly,\n\t\t\t\trequired: this.required,\n\t\t\t\tunique: this.unique,\n\t\t\t\tnote: this.note,\n\t\t\t\thidden_detail: this.hidden_detail,\n\t\t\t\thidden_browse: this.hidden_browse,\n\t\t\t\tprimary_key: this.primary_key,\n\t\t\t\tvalidation: this.validation,\n\t\t\t\twidth: this.width,\n\t\t\t\ttranslation: this.translation\n\t\t\t};\n\n\t\t\tif (this.lengthDisabled === false) {\n\t\t\t\tfieldInfo.length = this.length;\n\t\t\t}\n\n\t\t\tif (this.isNumeric === true) {\n\t\t\t\tfieldInfo.signed = this.signed;\n\t\t\t}\n\n\t\t\tconst result = {\n\t\t\t\tfieldInfo,\n\t\t\t\trelation: null\n\t\t\t};\n\n\t\t\tif (this.relation) {\n\t\t\t\tif (this.relation === 'm2o') {\n\t\t\t\t\tresult.relation = { ...this.relationInfo };\n\t\t\t\t\tdelete result.relation.field_one;\n\t\t\t\t}\n\n\t\t\t\tif (this.relation === 'o2m') {\n\t\t\t\t\tresult.relation = { ...this.relationInfo };\n\t\t\t\t}\n\n\t\t\t\tif (this.relation === 'm2m') {\n\t\t\t\t\tresult.relation = [...this.relationInfoM2M];\n\t\t\t\t\tif (this.createM2Mjunction === true) {\n\t\t\t\t\t\tthis.createM2MjunctionCollection();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.$emit('save', result);\n\t\t},\n\t\tuseFieldInfo() {\n\t\t\tif (!this.fieldInfo || Object.keys(this.fieldInfo).length === 0) return;\n\n\t\t\t// This is somewhat disgusting. The parent fields route shouldn't pass in the\n\t\t\t// stale copy of the field based on the API load, but should instead pass\n\t\t\t// just the name of the field, so we can directly pull it from the store.\n\t\t\t//\n\t\t\t// The parent should also use the store directly, seeing that we are loading\n\t\t\t// the fields nested in the collections anyway (this didn't use to be\n\t\t\t// that way). +1 for future optimizations!\n\t\t\tconst fieldName = this.fieldInfo.field;\n\t\t\tconst collectionName = this.collectionInfo.collection;\n\t\t\tconst storeFieldCopy = cloneDeep(\n\t\t\t\tthis.$store.state.collections[collectionName].fields[fieldName]\n\t\t\t);\n\n\t\t\tObject.keys(storeFieldCopy).forEach(key => {\n\t\t\t\tif (storeFieldCopy[key] != null) this[key] = storeFieldCopy[key];\n\t\t\t});\n\n\t\t\t// 'interface' is a reserved word in JS, so we need to work around that\n\t\t\tthis.interfaceName = storeFieldCopy.interface;\n\n\t\t\t// The API saves the type case insensitive, but the mapping requires case changing\n\t\t\tthis.type = this.type && this.type.toLowerCase();\n\t\t\tthis.datatype = this.datatype && this.datatype.toUpperCase();\n\t\t},\n\t\tinitRelation() {\n\t\t\tif (!this.relation) return;\n\n\t\t\tconst collection = this.collectionInfo.collection;\n\t\t\tconst field = this.field;\n\n\t\t\tif (this.relation === 'm2o') {\n\t\t\t\tconst existingRelation = cloneDeep(this.$store.getters.m2o(collection, field));\n\n\t\t\t\tif (existingRelation) {\n\t\t\t\t\tforEach(existingRelation, (val, key) => {\n\t\t\t\t\t\tif (key && val && key.startsWith('collection')) {\n\t\t\t\t\t\t\treturn this.$set(this.relationInfo, key, val.collection);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (key && val && key.startsWith('field')) {\n\t\t\t\t\t\t\treturn this.$set(this.relationInfo, key, val.field);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (val) {\n\t\t\t\t\t\t\tthis.$set(this.relationInfo, key, val);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.relationInfo.collection_many = this.collectionInfo.collection;\n\t\t\t\t\tthis.relationInfo.field_many = this.field;\n\t\t\t\t\tthis.relationInfo.collection_one = Object.values(\n\t\t\t\t\t\tcloneDeep(this.$store.state.collections)\n\t\t\t\t\t)[0].collection;\n\t\t\t\t\tthis.relationInfo.field_one = find(\n\t\t\t\t\t\tObject.values(cloneDeep(this.$store.state.collections))[0].fields,\n\t\t\t\t\t\t{ primary_key: true }\n\t\t\t\t\t).field;\n\t\t\t\t}\n\t\t\t} else if (this.relation === 'o2m') {\n\t\t\t\tconst existingRelation = cloneDeep(this.$store.getters.o2m(collection, field));\n\n\t\t\t\tif (existingRelation) {\n\t\t\t\t\tforEach(existingRelation, (val, key) => {\n\t\t\t\t\t\tif (key && val && key.startsWith('collection')) {\n\t\t\t\t\t\t\treturn this.$set(this.relationInfo, key, val.collection);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (key && val && key.startsWith('field')) {\n\t\t\t\t\t\t\treturn this.$set(this.relationInfo, key, val.field);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (val) {\n\t\t\t\t\t\t\tthis.$set(this.relationInfo, key, val);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.relationInfo.collection_one = this.collectionInfo.collection;\n\t\t\t\t\tthis.relationInfo.field_one = this.field;\n\n\t\t\t\t\tthis.relationInfo.collection_many = Object.values(\n\t\t\t\t\t\tcloneDeep(this.$store.state.collections)\n\t\t\t\t\t)[0].collection;\n\n\t\t\t\t\tthis.relationInfo.field_many = find(\n\t\t\t\t\t\tObject.values(cloneDeep(this.$store.state.collections))[0].fields,\n\t\t\t\t\t\t{ primary_key: false }\n\t\t\t\t\t).field;\n\n\t\t\t\t\tthis.getM2OID();\n\t\t\t\t}\n\t\t\t} else if (this.relation === 'm2m') {\n\t\t\t\tconst existingRelation = cloneDeep(this.$store.getters.o2m(collection, field));\n\n\t\t\t\tif (field && existingRelation) {\n\t\t\t\t\tthis.junctionNameM2M = existingRelation.collection_many.collection;\n\n\t\t\t\t\tthis.relationInfoM2M[0].id = existingRelation.id;\n\n\t\t\t\t\tthis.relationInfoM2M[0].field_many = existingRelation.field_many.field;\n\n\t\t\t\t\tthis.relationInfoM2M[0].collection_one =\n\t\t\t\t\t\texistingRelation.collection_one.collection;\n\n\t\t\t\t\tthis.relationInfoM2M[0].field_one = existingRelation.field_one.field;\n\t\t\t\t\tthis.relationInfoM2M[0].junction_field =\n\t\t\t\t\t\texistingRelation.junction.field_many.field;\n\n\t\t\t\t\tthis.relationInfoM2M[1].id = existingRelation.junction.id;\n\n\t\t\t\t\tthis.relationInfoM2M[1].field_many = existingRelation.junction.field_many.field;\n\n\t\t\t\t\tthis.relationInfoM2M[1].collection_one =\n\t\t\t\t\t\texistingRelation.junction.collection_one.collection;\n\n\t\t\t\t\tthis.relationInfoM2M[1].field_one =\n\t\t\t\t\t\texistingRelation.junction.field_one &&\n\t\t\t\t\t\texistingRelation.junction.field_one.field;\n\n\t\t\t\t\tthis.relationInfoM2M[1].junction_field = existingRelation.field_many.field;\n\t\t\t\t} else {\n\t\t\t\t\tthis.junctionNameM2M = Object.keys(this.collections)[0];\n\n\t\t\t\t\tthis.relationInfoM2M[0].field_many = Object.values(\n\t\t\t\t\t\tObject.values(this.collections)[0].fields\n\t\t\t\t\t)[0].field;\n\n\t\t\t\t\tthis.relationInfoM2M[0].collection_one = this.collectionInfo.collection;\n\n\t\t\t\t\tthis.relationInfoM2M[0].junction_field = Object.values(\n\t\t\t\t\t\tObject.values(this.collections)[0].fields\n\t\t\t\t\t)[0].field;\n\n\t\t\t\t\tthis.relationInfoM2M[1].field_many = Object.values(\n\t\t\t\t\t\tObject.values(this.collections)[0].fields\n\t\t\t\t\t)[0].field;\n\n\t\t\t\t\tthis.relationInfoM2M[1].collection_one = Object.keys(this.collections)[1];\n\n\t\t\t\t\tthis.relationInfoM2M[1].junction_field = Object.values(\n\t\t\t\t\t\tObject.values(this.collections)[0].fields\n\t\t\t\t\t)[0].field;\n\n\t\t\t\t\t// Recommended relationships\n\t\t\t\t\t// Interfaces can recommend a related collection. For example, the files\n\t\t\t\t\t// interface will recommend the collection_many to be directus_files\n\t\t\t\t\t// in order to make it easier for the user to setup the interface\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis.selectedInterfaceInfo.relation &&\n\t\t\t\t\t\ttypeof this.selectedInterfaceInfo.relation === 'object'\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (this.selectedInterfaceInfo.relation.relatedCollection) {\n\t\t\t\t\t\t\tthis.relationInfoM2M[1].collection_one = this.selectedInterfaceInfo.relation.relatedCollection;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tgetM2OID() {\n\t\t\tconst collection = this.relationInfo.collection_many;\n\t\t\tconst field = this.relationInfo.field_many;\n\n\t\t\tconst m2o = cloneDeep(this.$store.getters.m2o(collection, field));\n\n\t\t\tif (m2o) {\n\t\t\t\tthis.relationInfo.id = m2o.id;\n\t\t\t} else {\n\t\t\t\tthis.relationInfo.id = null;\n\t\t\t}\n\t\t},\n\t\tfields(collection) {\n\t\t\tif (!collection) return {};\n\t\t\treturn this.collections[collection].fields;\n\t\t},\n\t\tfieldsNonSystem(collection) {\n\t\t\tif (!collection) return {};\n\t\t\tvar fields = this.collections[collection].fields;\n\t\t\tfor (var key in fields) {\n\t\t\t\tif (fields.hasOwnProperty(key) && fields[key].primary_key) {\n\t\t\t\t\tdelete fields[key];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this.collections[collection].fields;\n\t\t},\n\t\tprimaryKeyFieldByCollection(collection) {\n\t\t\tconst fields = this.fields(collection);\n\t\t\treturn find(fields, { primary_key: true });\n\t\t},\n\t\tvalidateFieldName(string) {\n\t\t\t// Based on https://gist.github.com/mathewbyrne/1280286\n\t\t\treturn string\n\t\t\t\t.toString()\n\t\t\t\t.replace(/\\s+/g, '_') // Replace spaces with _\n\t\t\t\t.replace(/[^\\w_]+/g, '') // Remove all non-word chars\n\t\t\t\t.replace(/__+/g, '_') // Replace multiple _ with single _\n\t\t\t\t.toLowerCase();\n\t\t},\n\t\tautoM2Msuggestion(collectionName, suffix) {\n\t\t\treturn collectionName + '_' + suffix;\n\t\t},\n\n\t\t// issue here getting the new field to add M2M relationships without refreshing\n\t\tcreateM2MjunctionCollection() {\n\t\t\tvar collectionData = {\n\t\t\t\tcollection: this.junctionNameM2M,\n\t\t\t\thidden: true,\n\t\t\t\tnote: this.$t('junction_collection'),\n\t\t\t\tfields: [\n\t\t\t\t\t{\n\t\t\t\t\t\tfield: 'id',\n\t\t\t\t\t\ttype: 'integer',\n\t\t\t\t\t\tdatatype: 'int',\n\t\t\t\t\t\tinterface: 'primary-key',\n\t\t\t\t\t\tprimary_key: true,\n\t\t\t\t\t\tauto_increment: true,\n\t\t\t\t\t\tsigned: false,\n\t\t\t\t\t\tlength: 10\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tfield: this.relationInfoM2M[0].field_many,\n\t\t\t\t\t\ttype: this.primaryKeyFieldByCollection(\n\t\t\t\t\t\t\tthis.relationInfoM2M[0].collection_one\n\t\t\t\t\t\t).type,\n\t\t\t\t\t\tlength: 10,\n\t\t\t\t\t\tdatatype: this.primaryKeyFieldByCollection(\n\t\t\t\t\t\t\tthis.relationInfoM2M[0].collection_one\n\t\t\t\t\t\t).datatype,\n\t\t\t\t\t\tinterface: null,\n\t\t\t\t\t\treadonly: false,\n\t\t\t\t\t\trequired: true\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tfield: this.relationInfoM2M[1].field_many,\n\t\t\t\t\t\ttype: this.primaryKeyFieldByCollection(\n\t\t\t\t\t\t\tthis.relationInfoM2M[1].collection_one\n\t\t\t\t\t\t).type,\n\t\t\t\t\t\tlength: 10,\n\t\t\t\t\t\tdatatype: this.primaryKeyFieldByCollection(\n\t\t\t\t\t\t\tthis.relationInfoM2M[1].collection_one\n\t\t\t\t\t\t).datatype,\n\t\t\t\t\t\tinterface: null,\n\t\t\t\t\t\treadonly: false,\n\t\t\t\t\t\trequired: true\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t};\n\t\t\tvar fieldDispatch = {\n\t\t\t\tid: {\n\t\t\t\t\tauto_increment: true,\n\t\t\t\t\tcollection: this.junctionNameM2M,\n\t\t\t\t\tdatatype: 'int',\n\t\t\t\t\tdefault_value: null,\n\t\t\t\t\tfield: 'id',\n\t\t\t\t\tgroup: null,\n\t\t\t\t\thidden_detail: true,\n\t\t\t\t\thidden_browse: true,\n\t\t\t\t\tinterface: 'primary-key',\n\t\t\t\t\tlength: '10',\n\t\t\t\t\tlocked: 0,\n\t\t\t\t\tnote: null,\n\t\t\t\t\toptions: null,\n\t\t\t\t\tprimary_key: true,\n\t\t\t\t\treadonly: 0,\n\t\t\t\t\trequired: false,\n\t\t\t\t\tsigned: false,\n\t\t\t\t\tsort: 1,\n\t\t\t\t\ttranslation: null,\n\t\t\t\t\ttype: 'integer',\n\t\t\t\t\tunique: false,\n\t\t\t\t\tvalidation: null,\n\t\t\t\t\twidth: 4\n\t\t\t\t}\n\t\t\t};\n\t\t\tfieldDispatch[this.relationInfoM2M[0].field_many] = {\n\t\t\t\tcollection: this.junctionNameM2M,\n\t\t\t\tfield: this.relationInfoM2M[0].field_many,\n\t\t\t\tdatatype: this.primaryKeyFieldByCollection(this.relationInfoM2M[0].collection_one)\n\t\t\t\t\t.datatype,\n\t\t\t\tunique: false,\n\t\t\t\tprimary_key: false,\n\t\t\t\tauto_increment: false,\n\t\t\t\tdefault_value: null,\n\t\t\t\tnote: null,\n\t\t\t\tsigned: true,\n\t\t\t\ttype: this.primaryKeyFieldByCollection(this.relationInfoM2M[0].collection_one).type,\n\t\t\t\tsort: 0,\n\t\t\t\tinterface: null,\n\t\t\t\thidden_detail: true,\n\t\t\t\thidden_browse: true,\n\t\t\t\trequired: true,\n\t\t\t\toptions: null,\n\t\t\t\tlocked: false,\n\t\t\t\ttranslation: null,\n\t\t\t\treadonly: false,\n\t\t\t\twidth: 4,\n\t\t\t\tvalidation: null,\n\t\t\t\tgroup: null,\n\t\t\t\tlength: 10\n\t\t\t};\n\t\t\tfieldDispatch[this.relationInfoM2M[1].field_many] = {\n\t\t\t\tcollection: this.junctionNameM2M,\n\t\t\t\tfield: this.relationInfoM2M[1].field_many,\n\t\t\t\tdatatype: this.primaryKeyFieldByCollection(this.relationInfoM2M[1].collection_one)\n\t\t\t\t\t.datatype,\n\t\t\t\tunique: false,\n\t\t\t\tprimary_key: false,\n\t\t\t\tauto_increment: false,\n\t\t\t\tdefault_value: null,\n\t\t\t\tnote: null,\n\t\t\t\tsigned: true,\n\t\t\t\ttype: this.primaryKeyFieldByCollection(this.relationInfoM2M[1].collection_one).type,\n\t\t\t\tsort: 0,\n\t\t\t\tinterface: null,\n\t\t\t\thidden_detail: true,\n\t\t\t\thidden_browse: true,\n\t\t\t\trequired: true,\n\t\t\t\toptions: null,\n\t\t\t\tlocked: false,\n\t\t\t\ttranslation: null,\n\t\t\t\treadonly: false,\n\t\t\t\twidth: 4,\n\t\t\t\tvalidation: null,\n\t\t\t\tgroup: null,\n\t\t\t\tlength: 10\n\t\t\t};\n\t\t\tthis.$api\n\t\t\t\t.createCollection(collectionData, {\n\t\t\t\t\tfields: '*.*'\n\t\t\t\t})\n\t\t\t\t.then(res => res.data)\n\t\t\t\t.then(collection => {\n\t\t\t\t\tthis.$store.dispatch('addCollection', {\n\t\t\t\t\t\t...collection,\n\t\t\t\t\t\tfields: fieldDispatch\n\t\t\t\t\t});\n\t\t\t\t\tthis.$store.dispatch('addPermission', {\n\t\t\t\t\t\tcollection: this.junctionNameM2M,\n\t\t\t\t\t\tpermission: {\n\t\t\t\t\t\t\t$create: defaultFull,\n\t\t\t\t\t\t\t...defaultFull\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tthis.$events.emit('error', {\n\t\t\t\t\t\tnotify: this.$t('something_went_wrong_body'),\n\t\t\t\t\t\terror\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t}\n\t}\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.type-heading-medium {\n\t// max-width: 80%;\n\tmargin-bottom: 30px;\n}\n\n.currently-selected {\n\tmargin-bottom: 40px;\n}\n\n.interface-filter {\n\tmargin-bottom: 40px;\n}\n\n.type-note {\n\tmargin-top: var(--input-note-margin);\n\t& b {\n\t\tfont-weight: var(--weight-bold);\n\t}\n}\n\n.note {\n\tdisplay: block;\n\tmargin-top: var(--input-note-margin);\n}\n\n.interfaces {\n\tdisplay: grid;\n\tgrid-template-columns: repeat(4, 1fr);\n\tgrid-gap: 20px;\n\n\tarticle {\n\t\tdisplay: block;\n\t\tflex-basis: 160px;\n\t\tflex-shrink: 0;\n\t\toverflow: hidden;\n\t\ttransition: box-shadow var(--fast) var(--transition-out);\n\t\tcursor: pointer;\n\n\t\t.header {\n\t\t\tbackground-color: var(--card-background-color);\n\t\t\tborder-radius: var(--border-radius);\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tpadding: 20px 0;\n\t\t\ttransition: background-color var(--fast) var(--transition-out);\n\t\t\ti {\n\t\t\t\tcolor: var(--card-text-color-disabled) !important;\n\t\t\t}\n\t\t}\n\n\t\t&.active {\n\t\t\t.header {\n\t\t\t\tbackground-color: var(--card-background-color-hover);\n\t\t\t\tcolor: var(--card-text-color);\n\t\t\t\ttransition: background-color var(--fast) var(--transition-in);\n\t\t\t\ti {\n\t\t\t\t\tcolor: var(--card-text-color) !important;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t&:hover {\n\t\t\t.header {\n\t\t\t\tbackground-color: var(--card-background-color-hover);\n\t\t\t\ti {\n\t\t\t\t\tcolor: var(--card-text-color) !important;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t.body {\n\t\t\tpadding-top: 8px;\n\t\t}\n\n\t\th2 {\n\t\t\tmargin: 0;\n\t\t\twhite-space: nowrap;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\n\t\tp {\n\t\t\tcolor: var(--note-text-color);\n\t\t\tfont-size: 14px;\n\t\t\twhite-space: nowrap;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\t}\n}\n\nform.schema {\n\t.type-label {\n\t\tmargin-bottom: var(--input-label-margin);\n\t\tdisplay: inline-block;\n\t}\n\n\t.name {\n\t\tmargin-bottom: 30px;\n\t}\n\n\t.name-input {\n\t\tfont-family: 'Roboto Mono', monospace;\n\t}\n\n\t.advanced-form,\n\t.toggles,\n\t.name {\n\t\tdisplay: grid;\n\t\tgrid-gap: 32px 32px;\n\t\tgrid-template-columns: 1fr 1fr;\n\n\t\t.type-note {\n\t\t\tdisplay: inline-block;\n\t\t\tmargin-top: var(--input-note-margin);\n\t\t}\n\n\t\t.toggle {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\ttext-transform: capitalize;\n\t\t\tfont-size: 1rem;\n\t\t\tcursor: pointer;\n\t\t\twidth: max-content;\n\n\t\t\t> *:first-child {\n\t\t\t\tmargin-right: 10px;\n\t\t\t}\n\t\t}\n\n\t\t.translation {\n\t\t\tgrid-column: 1 / span 2;\n\t\t}\n\t}\n}\n\nform.options {\n\tmargin-top: 30px;\n\tlabel {\n\t\tmargin-bottom: var(--input-label-margin);\n\t}\n\tdiv.options {\n\t\tmargin-bottom: 30px;\n\t\t&:last-of-type {\n\t\t\tmargin-bottom: 20px;\n\t\t}\n\t}\n}\n\ndetails {\n\tposition: relative;\n\tmargin-top: 60px;\n\tborder-top: 2px solid var(--input-border-color);\n\tpadding-top: 40px;\n\tsummary {\n\t\tfont-size: 18px;\n\t\tcolor: var(--note-text-color);\n\t\tfont-weight: 400;\n\t\ttransition: var(--fast) var(--transition);\n\t\tmargin-top: -16px;\n\t\tbackground-color: var(--page-background-color);\n\t\tdisplay: inline-block;\n\t\tposition: absolute;\n\t\ttop: 4px;\n\t\tcursor: pointer;\n\n\t\t&:hover {\n\t\t\tcolor: var(--page-text-color);\n\t\t}\n\n\t\t&::-webkit-details-marker {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t&::after {\n\t\t\tcontent: 'unfold_more';\n\t\t\tdirection: ltr;\n\t\t\tdisplay: inline-block;\n\t\t\tfont-family: 'Material Icons';\n\t\t\tfont-size: 18px;\n\t\t\tcolor: var(--input-icon-color);\n\t\t\tfont-style: normal;\n\t\t\tfont-weight: normal;\n\t\t\tletter-spacing: normal;\n\t\t\tline-height: 1;\n\t\t\ttext-transform: none;\n\t\t\twhite-space: nowrap;\n\t\t\tword-wrap: normal;\n\t\t\t-webkit-font-feature-settings: 'liga';\n\t\t\t-webkit-font-smoothing: antialiased;\n\t\t\ttransition: var(--fast) var(--transition);\n\t\t\twidth: 28px;\n\t\t\theight: 24px;\n\t\t\tmargin-left: 6px;\n\t\t\tmargin-top: 2px;\n\t\t\tfloat: right;\n\t\t}\n\t}\n\n\t&[open] summary::after {\n\t\tcontent: 'unfold_less';\n\t}\n}\n\n.no-results {\n\tmargin: 20px auto;\n\tmin-height: 0;\n}\n\n.required {\n\tcolor: var(--input-required-color);\n\tvertical-align: super;\n}\n\n.single {\n\tdisplay: grid;\n\tgrid-template-areas:\n\t\t'a _ b'\n\t\t'c _ d'\n\t\t'e f g';\n\tgrid-template-columns: 1fr 20px 1fr;\n\tgrid-gap: 10px 0;\n\tjustify-content: center;\n\talign-items: center;\n\n\tspan:first-of-type {\n\t\tgrid-area: a;\n\t}\n\n\tspan:last-of-type {\n\t\tgrid-area: b;\n\t}\n\n\t.select {\n\t\t&:first-of-type {\n\t\t\tgrid-area: c;\n\t\t}\n\n\t\t&:nth-of-type(2) {\n\t\t\tgrid-area: e;\n\t\t}\n\n\t\t&:nth-of-type(3) {\n\t\t\tgrid-area: d;\n\t\t}\n\n\t\t&:nth-of-type(4) {\n\t\t\tgrid-area: g;\n\t\t}\n\t}\n\n\t.v-icon {\n\t\tgrid-area: f;\n\t\tcolor: var(--input-border-color);\n\t\ttransform: translateX(-2px);\n\t}\n}\n\n.full {\n\tmargin-top: 40px;\n\tdisplay: grid;\n\tgrid-template-areas:\n\t\t'a b c d e'\n\t\t'f g h i j'\n\t\t'k l m n o'\n\t\t'p q r s t'\n\t\t'u u v w w';\n\tgrid-template-columns: 1fr 20px 1fr 20px 1fr;\n\tgrid-gap: 10px 0;\n\tjustify-content: center;\n\talign-items: center;\n\n\tp:first-of-type {\n\t\tgrid-area: a;\n\t}\n\n\tp:nth-of-type(2) {\n\t\tgrid-area: c;\n\t}\n\n\tp:last-of-type {\n\t\tgrid-area: e;\n\t}\n\n\t.select {\n\t\t&:first-of-type {\n\t\t\tgrid-area: f;\n\t\t}\n\n\t\t&:nth-of-type(2) {\n\t\t\tgrid-area: k;\n\t\t}\n\n\t\t&:nth-of-type(3) {\n\t\t\tgrid-area: h;\n\t\t}\n\n\t\t&:nth-of-type(4) {\n\t\t\tgrid-area: m;\n\t\t}\n\n\t\t&:nth-of-type(5) {\n\t\t\tgrid-area: r;\n\t\t}\n\n\t\t&:nth-of-type(6) {\n\t\t\tgrid-area: j;\n\t\t}\n\n\t\t&:nth-of-type(7) {\n\t\t\tgrid-area: t;\n\t\t}\n\t}\n\n\t.v-icon {\n\t\tgrid-area: l;\n\t\tcolor: var(--input-border-color);\n\t\ttransform: translateX(-2px);\n\n\t\t&:last-of-type {\n\t\t\tgrid-area: s;\n\t\t}\n\t}\n\n\t.v-checkbox {\n\t\t&:first-of-type {\n\t\t\tgrid-area: v;\n\t\t}\n\t}\n}\n\n.toggles {\n\tmargin-top: 32px;\n}\n\nlabel {\n\tmargin-bottom: var(--input-label-margin);\n}\n\nhr {\n\tmargin: 32px 0;\n\tborder: 0;\n\tborder-top: 2px solid var(--blue-grey-50);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./field-setup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./field-setup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./field-setup.vue?vue&type=template&id=d55c2a0e&scoped=true&\"\nimport script from \"./field-setup.vue?vue&type=script&lang=js&\"\nexport * from \"./field-setup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./field-setup.vue?vue&type=style&index=0&id=d55c2a0e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d55c2a0e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-modal',{attrs:{\"title\":_vm.$t('duplicating_field') +\n\t\t\t': ' +\n\t\t\t_vm.$helpers.formatField(_vm.fieldInfo.field, _vm.fieldInfo.collection),\"buttons\":_vm.buttons},on:{\"save\":function($event){return _vm.saveField()},\"close\":function($event){return _vm.$emit('close')}}},[_c('form',{staticClass:\"options\",on:{\"submit\":function($event){$event.preventDefault();}}},[_c('div',{staticClass:\"options\"},[_c('label',[_vm._v(\" \"+_vm._s(_vm.$tc('collection', 1))+\" \"),_c('v-simple-select',{attrs:{\"required\":\"\"},model:{value:(_vm.selectedCollection),callback:function ($$v) {_vm.selectedCollection=$$v},expression:\"selectedCollection\"}},_vm._l((Object.keys(this.collections)),function(collection){return _c('option',{key:collection,domProps:{\"value\":collection,\"selected\":collection === _vm.selectedCollection}},[_vm._v(\" \"+_vm._s(_vm.$helpers.formatTitle(collection))+\" \")])}),0)],1)]),_c('div',{staticClass:\"options\"},[_c('label',[_vm._v(\" \"+_vm._s(_vm.$tc('field', 1) + ' ' + _vm.$t('name'))+\" \"),_c('v-input',{attrs:{\"required\":\"\",\"value\":_vm.field,\"placeholder\":_vm.fieldInfo.field,\"icon-right\":_vm.iconToShow.icon,\"icon-right-color\":_vm.iconToShow.color,\"icon-right-tooltip\":_vm.iconToShow.tooltip},model:{value:(_vm.field),callback:function ($$v) {_vm.field=$$v},expression:\"field\"}})],1),_c('p',{staticClass:\"small-text\"},[_vm._v(\" \"+_vm._s(_vm.$t('display_name'))+\": \"),_c('b',[_vm._v(_vm._s(_vm.$helpers.formatTitle(_vm.field || '...')))])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<v-modal\n\t\t:title=\"\n\t\t\t$t('duplicating_field') +\n\t\t\t\t': ' +\n\t\t\t\t$helpers.formatField(fieldInfo.field, fieldInfo.collection)\n\t\t\"\n\t\t:buttons=\"buttons\"\n\t\t@save=\"saveField()\"\n\t\t@close=\"$emit('close')\"\n\t>\n\t\t<form class=\"options\" @submit.prevent>\n\t\t\t<div class=\"options\">\n\t\t\t\t<label>\n\t\t\t\t\t{{ $tc('collection', 1) }}\n\t\t\t\t\t<v-simple-select v-model=\"selectedCollection\" required>\n\t\t\t\t\t\t<option\n\t\t\t\t\t\t\tv-for=\"collection in Object.keys(this.collections)\"\n\t\t\t\t\t\t\t:key=\"collection\"\n\t\t\t\t\t\t\t:value=\"collection\"\n\t\t\t\t\t\t\t:selected=\"collection === selectedCollection\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ $helpers.formatTitle(collection) }}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</v-simple-select>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<div class=\"options\">\n\t\t\t\t<label>\n\t\t\t\t\t{{ $tc('field', 1) + ' ' + $t('name') }}\n\t\t\t\t\t<v-input\n\t\t\t\t\t\tv-model=\"field\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\t:value=\"field\"\n\t\t\t\t\t\t:placeholder=\"fieldInfo.field\"\n\t\t\t\t\t\t:icon-right=\"iconToShow.icon\"\n\t\t\t\t\t\t:icon-right-color=\"iconToShow.color\"\n\t\t\t\t\t\t:icon-right-tooltip=\"iconToShow.tooltip\"\n\t\t\t\t\t/>\n\t\t\t\t</label>\n\t\t\t\t<p class=\"small-text\">\n\t\t\t\t\t{{ $t('display_name') }}:\n\t\t\t\t\t<b>{{ $helpers.formatTitle(field || '...') }}</b>\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</form>\n\t</v-modal>\n</template>\n\n<script>\nimport { datatypes } from '../type-map';\nimport { cloneDeep } from 'lodash';\n\nexport default {\n\tname: 'VFieldDuplicate',\n\tprops: {\n\t\tcollectionInformation: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t},\n\t\tfieldInformation: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfieldInfo: Object.assign({}, this.fieldInformation),\n\t\t\tselectedCollection: this.collectionInformation.collection,\n\t\t\tfield: null,\n\t\t\tsaving: false\n\t\t};\n\t},\n\tcomputed: {\n\t\tdatabaseVendor() {\n\t\t\treturn cloneDeep(this.$store.state.serverInfo.databaseVendor);\n\t\t},\n\t\tselectedDatatypeInfo() {\n\t\t\treturn datatypes[this.databaseVendor][this.fieldInfo.datatype];\n\t\t},\n\t\tlengthDisabled() {\n\t\t\tif (this.selectedDatatypeInfo && this.selectedDatatypeInfo.length === true) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (this.selectedDatatypeInfo && this.selectedDatatypeInfo.decimal === true) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t},\n\t\tcanDuplicate() {\n\t\t\tif (this.field && this.isFieldValid && this.selectedCollection) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\ticonToShow() {\n\t\t\tif (!this.field) {\n\t\t\t\treturn { icon: null, color: null };\n\t\t\t}\n\t\t\tif (this.isFieldValid) {\n\t\t\t\treturn { icon: 'done', color: 'success' };\n\t\t\t}\n\t\t\treturn {\n\t\t\t\ticon: 'error',\n\t\t\t\tcolor: 'danger',\n\t\t\t\ttooltip: this.$t('field_already_exists', { field: \"'\" + this.field + \"'\" })\n\t\t\t};\n\t\t},\n\t\tisFieldValid() {\n\t\t\tlet isValid = true;\n\t\t\tObject.keys(this.collections[this.selectedCollection].fields).forEach(field => {\n\t\t\t\tif (field === this.field) {\n\t\t\t\t\tisValid = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (isValid) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tcollectionFieldCount() {\n\t\t\treturn Object.keys(this.collections[this.selectedCollection].fields).length;\n\t\t},\n\t\tcollections() {\n\t\t\tconst collections = Object.assign({}, this.$store.state.collections);\n\t\t\treturn Object.keys(collections)\n\t\t\t\t.filter(collection => collection.startsWith('directus_') === false)\n\t\t\t\t.reduce((obj, collection) => {\n\t\t\t\t\tobj[collection] = collections[collection];\n\t\t\t\t\treturn obj;\n\t\t\t\t}, {});\n\t\t},\n\t\tbuttons() {\n\t\t\treturn {\n\t\t\t\tsave: {\n\t\t\t\t\tdisabled: !this.canDuplicate,\n\t\t\t\t\ttext: this.$t('create'),\n\t\t\t\t\tloading: this.saving\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t},\n\twatch: {\n\t\tfield(val) {\n\t\t\t// Based on https://gist.github.com/mathewbyrne/1280286\n\t\t\tthis.field = val\n\t\t\t\t.toString()\n\t\t\t\t.toLowerCase()\n\t\t\t\t.replace(/\\s+/g, '_') // Replace spaces with _\n\t\t\t\t.replace(/[^\\w_]+/g, '') // Remove all non-word chars\n\t\t\t\t.replace(/__+/g, '_'); // Replace multiple _ with single _\n\t\t}\n\t},\n\tmethods: {\n\t\tsaveField() {\n\t\t\tthis.saving = true;\n\n\t\t\tlet fieldInfo = this.fieldInfo;\n\t\t\tfieldInfo.field = this.field;\n\t\t\tfieldInfo.sort = this.collectionFieldCount + 1;\n\t\t\tdelete fieldInfo.id;\n\t\t\tdelete fieldInfo.name;\n\n\t\t\tif (this.lengthDisabled === true) {\n\t\t\t\tdelete fieldInfo.length;\n\t\t\t}\n\n\t\t\tconst result = {\n\t\t\t\tfieldInfo,\n\t\t\t\tcollection: this.selectedCollection\n\t\t\t};\n\n\t\t\tthis.$emit('save', result);\n\t\t}\n\t}\n};\n</script>\n\n<style lang=\"scss\" scoped>\nform.options {\n\tpadding: 5% 10%;\n\n\tdiv.options {\n\t\tmargin-bottom: 30px;\n\n\t\t&:last-of-type {\n\t\t\tmargin-bottom: 0px;\n\t\t}\n\t}\n\n\t& label > .v-simple-select,\n\t& label > .v-input {\n\t\tmargin-top: 10px;\n\t}\n\n\t.required {\n\t\tcolor: var(--blue-grey-900);\n\t\tvertical-align: super;\n\t\tfont-size: 7px;\n\t}\n\n\t.small-text {\n\t\tmargin-top: 4px;\n\t\tfont-style: italic;\n\t\tfont-size: 12px;\n\t\tline-height: 1.5em;\n\t\tcolor: var(--blue-grey-300);\n\t\t& b {\n\t\t\tfont-weight: 600;\n\t\t}\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./field-duplicate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./field-duplicate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./field-duplicate.vue?vue&type=template&id=07160082&scoped=true&\"\nimport script from \"./field-duplicate.vue?vue&type=script&lang=js&\"\nexport * from \"./field-duplicate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./field-duplicate.vue?vue&type=style&index=0&id=07160082&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"07160082\",\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<not-found v-if=\"!collectionInfo\" />\n\t<div v-else class=\"settings-fields\">\n\t\t<v-header\n\t\t\t:breadcrumb=\"breadcrumb\"\n\t\t\t:icon-link=\"`/${currentProjectKey}/settings/collections`\"\n\t\t\tsettings\n\t\t>\n\t\t\t<template slot=\"buttons\">\n\t\t\t\t<v-header-button\n\t\t\t\t\tkey=\"delete\"\n\t\t\t\t\ticon=\"delete_outline\"\n\t\t\t\t\tbackground-color=\"danger\"\n\t\t\t\t\ticon-color=\"white\"\n\t\t\t\t\thover-color=\"danger-dark\"\n\t\t\t\t\t:label=\"$t('delete')\"\n\t\t\t\t\t@click=\"confirmRemove = true\"\n\t\t\t\t/>\n\t\t\t\t<v-header-button\n\t\t\t\t\tkey=\"save\"\n\t\t\t\t\ticon=\"check\"\n\t\t\t\t\tbackground-color=\"button-primary-background-color\"\n\t\t\t\t\ticon-color=\"button-primary-text-color\"\n\t\t\t\t\t:loading=\"saving\"\n\t\t\t\t\t:disabled=\"Object.keys(edits).length === 0\"\n\t\t\t\t\t:label=\"$t('save')\"\n\t\t\t\t\t@click=\"save\"\n\t\t\t\t/>\n\t\t\t</template>\n\t\t</v-header>\n\n\t\t<label class=\"type-label\">{{ $tc('field', 2) }}</label>\n\t\t<v-notice color=\"warning\" icon=\"warning\">{{ $t('fields_are_saved_instantly') }}</v-notice>\n\t\t<div class=\"table\">\n\t\t\t<div class=\"header\">\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<div class=\"drag\"><v-icon name=\"swap_vert\" /></div>\n\t\t\t\t\t<div>{{ $tc('field', 1) }}</div>\n\t\t\t\t\t<div>{{ $tc('interface', 1) }}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"body\" :class=\"{ dragging }\">\n\t\t\t\t<draggable v-model=\"fields\" @start=\"startSort\" @end=\"saveSort\">\n\t\t\t\t\t<div v-for=\"field in fields\" :key=\"field.field\" class=\"row\">\n\t\t\t\t\t\t<div class=\"drag\"><v-icon name=\"drag_handle\" /></div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"inner row\"\n\t\t\t\t\t\t\t:style=\"{ cursor: field.interface ? 'inherit' : 'default' }\"\n\t\t\t\t\t\t\t@click.stop=\"field.interface ? startEditingField(field) : false\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"monospace\"\n\t\t\t\t\t\t\t\tv-tooltip=\"field.field.length > 25 ? field.field : null\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{ field.field }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\t\t$store.state.extensions.interfaces[field.interface] &&\n\t\t\t\t\t\t\t\t\t\t$store.state.extensions.interfaces[field.interface].name\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t<v-button\n\t\t\t\t\t\t\t\t\tv-if=\"!field.interface\"\n\t\t\t\t\t\t\t\t\tclass=\"not-managed\"\n\t\t\t\t\t\t\t\t\t:loading=\"toManage.includes(field.field)\"\n\t\t\t\t\t\t\t\t\t@click=\"manageField(field)\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{{ $t('manage') }}\n\t\t\t\t\t\t\t\t</v-button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<v-contextual-menu\n\t\t\t\t\t\t\tv-if=\"canDuplicate(field.interface) || fields.length > 1\"\n\t\t\t\t\t\t\tclass=\"more-options\"\n\t\t\t\t\t\t\tplacement=\"left-start\"\n\t\t\t\t\t\t\t:options=\"fieldOptions(field)\"\n\t\t\t\t\t\t\t@click=\"fieldOptionsClicked(field, $event)\"\n\t\t\t\t\t\t></v-contextual-menu>\n\t\t\t\t\t</div>\n\t\t\t\t</draggable>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<v-button class=\"new-field\" @click=\"startEditingField({})\">\n\t\t\t{{ $t('new_field') }}\n\t\t</v-button>\n\n\t\t<v-form\n\t\t\tv-if=\"fields\"\n\t\t\t:fields=\"directusFields\"\n\t\t\t:values=\"values\"\n\t\t\tcollection=\"directus_collections\"\n\t\t\t@stage-value=\"stageValue\"\n\t\t/>\n\n\t\t<portal v-if=\"confirmRemove\" to=\"modal\">\n\t\t\t<v-confirm\n\t\t\t\tcolor=\"danger\"\n\t\t\t\t:message=\"$t('delete_collection_are_you_sure')\"\n\t\t\t\t:confirm-text=\"$t('delete')\"\n\t\t\t\t@cancel=\"confirmRemove = false\"\n\t\t\t\t@confirm=\"remove\"\n\t\t\t/>\n\t\t</portal>\n\n\t\t<portal v-if=\"confirmFieldRemove\" to=\"modal\">\n\t\t\t<v-confirm\n\t\t\t\tcolor=\"danger\"\n\t\t\t\t:message=\"$t('delete_field_are_you_sure', { field: fieldToBeRemoved })\"\n\t\t\t\t:confirm-text=\"$t('delete')\"\n\t\t\t\t@cancel=\"confirmFieldRemove = false\"\n\t\t\t\t@confirm=\"removeField(fieldToBeRemoved)\"\n\t\t\t/>\n\t\t</portal>\n\n\t\t<v-field-setup\n\t\t\tv-if=\"editingField\"\n\t\t\t:field-info=\"fieldBeingEdited\"\n\t\t\t:collection-info=\"collectionInfo\"\n\t\t\t:saving=\"fieldSaving\"\n\t\t\t@close=\"editingField = false\"\n\t\t\t@save=\"setFieldSettings\"\n\t\t/>\n\n\t\t<v-field-duplicate\n\t\t\tv-if=\"duplicatingField\"\n\t\t\t:field-information=\"fieldBeingDuplicated\"\n\t\t\t:collection-information=\"collectionInfo\"\n\t\t\t@close=\"duplicatingField = false\"\n\t\t\t@save=\"duplicateFieldSettings\"\n\t\t/>\n\t\t<v-info-sidebar wide>\n\t\t\t<span class=\"type-note\">No settings</span>\n\t\t</v-info-sidebar>\n\t</div>\n</template>\n\n<script>\nimport { datatypes } from '../../type-map';\nimport { keyBy } from 'lodash';\nimport formatTitle from '@directus/format-title';\nimport shortid from 'shortid';\nimport store from '../../store/';\nimport api from '../../api.js';\nimport NotFound from '../not-found.vue';\nimport VFieldSetup from '../../components/field-setup.vue';\nimport VFieldDuplicate from '../../components/field-duplicate.vue';\nimport { mapState } from 'vuex';\n\nexport default {\n\tname: 'SettingsFields',\n\tmetaInfo() {\n\t\treturn {\n\t\t\ttitle: `${this.$t('settings')} | ${this.$t('editing', {\n\t\t\t\tcollection: this.$helpers.formatTitle(this.collection)\n\t\t\t})}`\n\t\t};\n\t},\n\tcomponents: {\n\t\tNotFound,\n\t\tVFieldSetup,\n\t\tVFieldDuplicate\n\t},\n\tprops: {\n\t\tcollection: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\ttoManage: [],\n\t\t\tduplicateInterfaceBlacklist: [\n\t\t\t\t'primary-key',\n\t\t\t\t'many-to-many',\n\t\t\t\t'one-to-many',\n\t\t\t\t'many-to-one',\n\t\t\t\t'sort'\n\t\t\t],\n\t\t\tfieldSaving: false,\n\t\t\tsaving: false,\n\t\t\tdragging: false,\n\n\t\t\tfields: null,\n\t\t\tdirectusFields: null,\n\n\t\t\tnotFound: false,\n\t\t\terror: false,\n\n\t\t\tconfirmRemove: false,\n\t\t\tconfirmRemoveLoading: false,\n\n\t\t\tconfirmNavigation: false,\n\t\t\tleavingTo: '',\n\n\t\t\tedits: {},\n\n\t\t\tfieldBeingEdited: null,\n\t\t\tfieldToBeRemoved: null,\n\t\t\tconfirmFieldRemove: false,\n\n\t\t\tfieldBeingDuplicated: null,\n\t\t\tduplicatingField: false,\n\n\t\t\teditingField: false\n\t\t};\n\t},\n\tcomputed: {\n\t\t...mapState(['currentProjectKey']),\n\t\tbreadcrumb() {\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tname: this.$t('settings'),\n\t\t\t\t\tpath: `/${this.currentProjectKey}/settings`\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: this.$t('collections_and_fields'),\n\t\t\t\t\tpath: `/${this.currentProjectKey}/settings/collections`\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: this.$helpers.formatCollection(this.collection),\n\t\t\t\t\tpath: `/${this.currentProjectKey}/settings/collections/${this.collection}`\n\t\t\t\t}\n\t\t\t];\n\t\t},\n\t\tcollectionInfo() {\n\t\t\treturn this.$store.state.collections[this.collection];\n\t\t},\n\t\tfieldsWithSort() {\n\t\t\treturn this.fields.map((field, index) => ({\n\t\t\t\t...field,\n\t\t\t\tsort: index + 1\n\t\t\t}));\n\t\t},\n\t\tvalues() {\n\t\t\treturn {\n\t\t\t\t...this.collectionInfo,\n\t\t\t\t...this.edits\n\t\t\t};\n\t\t}\n\t},\n\tmethods: {\n\t\tmanageField(field) {\n\t\t\tthis.toManage.push(field.field);\n\t\t\tconst databaseVendor = this.$store.state.serverInfo.databaseVendor;\n\t\t\tconst suggestedInterface = datatypes[databaseVendor][field.datatype].fallbackInterface;\n\t\t\tconst fieldInfo = {\n\t\t\t\tfield: field.field,\n\t\t\t\tsort: field.sort,\n\t\t\t\tinterface: suggestedInterface\n\t\t\t};\n\t\t\tconst result = {\n\t\t\t\tfieldInfo,\n\t\t\t\trelation: null\n\t\t\t};\n\t\t\tthis.setFieldSettings(result).then(async () => {\n\t\t\t\tawait this.$store.dispatch('getCollections');\n\t\t\t\tfield.interface = suggestedInterface;\n\t\t\t\tthis.toManage.splice(this.toManage.indexOf(field.field), 1);\n\t\t\t});\n\t\t},\n\t\tremove() {\n\t\t\tconst id = this.$helpers.shortid.generate();\n\t\t\tthis.$store.dispatch('loadingStart', { id });\n\n\t\t\tthis.$api\n\t\t\t\t.deleteCollection(this.collection)\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.$store.dispatch('loadingFinished', id);\n\t\t\t\t\tthis.$store.dispatch('removeCollection', this.collection);\n\t\t\t\t\tthis.$notify({\n\t\t\t\t\t\ttitle: this.$t('collection_removed'),\n\t\t\t\t\t\tcolor: 'green',\n\t\t\t\t\t\ticonMain: 'check'\n\t\t\t\t\t});\n\t\t\t\t\tthis.$router.push(`/${this.currentProjectKey}/settings/collections`);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tthis.$store.dispatch('loadingFinished', id);\n\t\t\t\t\tthis.$events.emit('error', {\n\t\t\t\t\t\tnotify: this.$t('something_went_wrong_body'),\n\t\t\t\t\t\terror\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tsave() {\n\t\t\tthis.saving = true;\n\n\t\t\tconst id = this.$helpers.shortid.generate();\n\t\t\tthis.$store.dispatch('loadingStart', { id });\n\n\t\t\tthis.$api\n\t\t\t\t.updateCollection(this.collection, this.edits)\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.$notify({\n\t\t\t\t\t\ttitle: this.$t('collection_updated'),\n\t\t\t\t\t\tcolor: 'green',\n\t\t\t\t\t\ticonMain: 'check'\n\t\t\t\t\t});\n\t\t\t\t\tthis.$store.dispatch('loadingFinished', id);\n\t\t\t\t\tthis.saving = false;\n\t\t\t\t\tthis.$store.dispatch('updateCollection', {\n\t\t\t\t\t\tcollection: this.collection,\n\t\t\t\t\t\tedits: this.edits\n\t\t\t\t\t});\n\t\t\t\t\tthis.$router.push(`/${this.currentProjectKey}/settings/collections`);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tthis.saving = false;\n\t\t\t\t\tthis.$store.dispatch('loadingFinished', id);\n\t\t\t\t\tthis.$events.emit('error', {\n\t\t\t\t\t\tnotify: this.$t('something_went_wrong_body'),\n\t\t\t\t\t\terror\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tstageValue({ field, value }) {\n\t\t\tif (value === this.collectionInfo[field]) {\n\t\t\t\tthis.$delete(this.edits, field);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.$set(this.edits, field, value);\n\t\t},\n\t\tcanDuplicate(fieldInterface) {\n\t\t\tif (!fieldInterface) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn this.duplicateInterfaceBlacklist.includes(fieldInterface) === false;\n\t\t},\n\t\tduplicateFieldSettings({ fieldInfo, collection }) {\n\t\t\tconst requests = [];\n\n\t\t\tconst id = this.$helpers.shortid.generate();\n\t\t\tthis.$store.dispatch('loadingStart', { id });\n\n\t\t\tfieldInfo.collection = collection;\n\t\t\trequests.push(this.$api.createField(collection, fieldInfo));\n\n\t\t\treturn Promise.all(requests)\n\t\t\t\t.then(([fieldRes]) => ({\n\t\t\t\t\tsavedFieldInfo: fieldRes.data\n\t\t\t\t}))\n\t\t\t\t.then(({ savedFieldInfo }) => {\n\t\t\t\t\tthis.$store.dispatch('loadingFinished', id);\n\n\t\t\t\t\tif (this.collection === collection) {\n\t\t\t\t\t\tthis.fields = [...this.fields, savedFieldInfo];\n\t\t\t\t\t}\n\t\t\t\t\tthis.$store.dispatch('addField', {\n\t\t\t\t\t\tcollection: collection,\n\t\t\t\t\t\tfield: savedFieldInfo\n\t\t\t\t\t});\n\t\t\t\t\tthis.$notify({\n\t\t\t\t\t\ttitle: this.$t('field_created', {\n\t\t\t\t\t\t\tfield: this.$helpers.formatField(fieldInfo.field, fieldInfo.collection)\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tcolor: 'green',\n\t\t\t\t\t\ticonMain: 'check'\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.duplicatingField = false;\n\t\t\t\t\tthis.fieldBeingDuplicated = null;\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tthis.$store.dispatch('loadingFinished', id);\n\t\t\t\t\tthis.$events.emit('error', {\n\t\t\t\t\t\tnotify: this.$t('something_went_wrong_body'),\n\t\t\t\t\t\terror\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\n\t\tasync setFieldSettings({ fieldInfo, relation }) {\n\t\t\tthis.fieldSaving = true;\n\n\t\t\tconst existingField = this.$store.state.collections[\n\t\t\t\tthis.collection\n\t\t\t].fields.hasOwnProperty(fieldInfo.field);\n\n\t\t\tconst id = this.$helpers.shortid.generate();\n\t\t\tthis.$store.dispatch('loadingStart', { id });\n\n\t\t\ttry {\n\t\t\t\tif (existingField) {\n\t\t\t\t\tconst { data: savedFieldInfo } = await this.$api.updateField(\n\t\t\t\t\t\tthis.collection,\n\t\t\t\t\t\tfieldInfo.field,\n\t\t\t\t\t\tfieldInfo\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.fields = this.fields.map(field => {\n\t\t\t\t\t\tif (field.id === savedFieldInfo.id) return savedFieldInfo;\n\t\t\t\t\t\treturn field;\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.$notify({\n\t\t\t\t\t\ttitle: this.$t('field_updated'),\n\t\t\t\t\t\tcolor: 'green',\n\t\t\t\t\t\ticonMain: 'check'\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tconst { data: savedFieldInfo } = await this.$api.createField(\n\t\t\t\t\t\tthis.collection,\n\t\t\t\t\t\tfieldInfo\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.fields = [...this.fields, savedFieldInfo];\n\n\t\t\t\t\tthis.$notify({\n\t\t\t\t\t\ttitle: this.$t('field_created'),\n\t\t\t\t\t\tcolor: 'green',\n\t\t\t\t\t\ticonMain: 'check'\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tthis.$store.dispatch('getCollections');\n\n\t\t\t\tif (relation) {\n\t\t\t\t\tconst saveRelation = async relation => {\n\t\t\t\t\t\tconst existingRelation = relation && relation.id != null;\n\n\t\t\t\t\t\tif (existingRelation) {\n\t\t\t\t\t\t\tconst { data: updatedRelation } = await this.$api.updateRelation(\n\t\t\t\t\t\t\t\trelation.id,\n\t\t\t\t\t\t\t\trelation\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tthis.$store.dispatch('updateRelation', updatedRelation);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst { data: newRelation } = await this.$api.createRelation(relation);\n\t\t\t\t\t\t\tthis.$store.dispatch('addRelation', newRelation);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tif (Array.isArray(relation)) {\n\t\t\t\t\t\tfor (let relationInfo of relation) {\n\t\t\t\t\t\t\tsaveRelation(relationInfo);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsaveRelation(relation);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.editingField = false;\n\t\t\t\tthis.fieldBeingEdited = null;\n\t\t\t\tthis.fieldSaving = false;\n\t\t\t\tthis.$store.dispatch('loadingFinished', id);\n\t\t\t} catch (error) {\n\t\t\t\tthis.fieldSaving = false;\n\t\t\t\tthis.$store.dispatch('loadingFinished', id);\n\t\t\t\tthis.$events.emit('error', {\n\t\t\t\t\tnotify: this.$t('something_went_wrong_body'),\n\t\t\t\t\terror\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tfieldOptions(field) {\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\ttext: this.$t('duplicate'),\n\t\t\t\t\ticon: 'control_point_duplicate',\n\t\t\t\t\tdisabled: this.duplicateInterfaceBlacklist.includes(field.interface)\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttext: this.$t('delete'),\n\t\t\t\t\ticon: 'delete_outline'\n\t\t\t\t}\n\t\t\t];\n\t\t},\n\t\tfieldOptionsClicked(field, option) {\n\t\t\tswitch (option) {\n\t\t\t\tcase 0:\n\t\t\t\t\tthis.duplicateField(field);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 1:\n\t\t\t\t\tthis.warnRemoveField(field.field);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t}\n\t\t},\n\t\tduplicateField(field) {\n\t\t\tthis.fieldBeingDuplicated = field;\n\t\t\tthis.duplicatingField = true;\n\t\t},\n\t\tstartEditingField(field) {\n\t\t\tthis.fieldBeingEdited = field;\n\t\t\tthis.editingField = true;\n\t\t},\n\t\twarnRemoveField(fieldName) {\n\t\t\tthis.fieldToBeRemoved = fieldName;\n\t\t\tthis.confirmFieldRemove = true;\n\t\t},\n\t\tremoveField(fieldName) {\n\t\t\tthis.removingField = true;\n\n\t\t\tconst id = this.$helpers.shortid.generate();\n\t\t\tthis.$store.dispatch('loadingStart', { id });\n\n\t\t\tthis.$api\n\t\t\t\t.deleteField(this.collection, fieldName)\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.$store.dispatch('loadingFinished', id);\n\t\t\t\t\tthis.fields = this.fields.filter(({ field }) => field !== fieldName);\n\t\t\t\t\tthis.removingField = false;\n\t\t\t\t\tthis.fieldToBeRemoved = null;\n\t\t\t\t\tthis.confirmFieldRemove = false;\n\t\t\t\t\tthis.$notify({\n\t\t\t\t\t\ttitle: this.$t('field_removed'),\n\t\t\t\t\t\tcolor: 'green',\n\t\t\t\t\t\ticonMain: 'check'\n\t\t\t\t\t});\n\t\t\t\t\tthis.$store.dispatch('removeField', {\n\t\t\t\t\t\tcollection: this.collection,\n\t\t\t\t\t\tfield: fieldName\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tthis.$store.dispatch('loadingFinished', id);\n\t\t\t\t\tthis.$events.emit('error', {\n\t\t\t\t\t\tnotify: this.$t('something_went_wrong_body'),\n\t\t\t\t\t\terror\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tstartSort() {\n\t\t\tthis.dragging = true;\n\t\t},\n\t\tsaveSort() {\n\t\t\tthis.dragging = false;\n\n\t\t\tconst fieldUpdates = this.fieldsWithSort.map(field => ({\n\t\t\t\tfield: field.field,\n\t\t\t\tsort: field.sort\n\t\t\t}));\n\n\t\t\tconst id = this.$helpers.shortid.generate();\n\t\t\tthis.$store.dispatch('loadingStart', { id });\n\n\t\t\tthis.$api.api\n\t\t\t\t.patch(`/fields/${this.collection}`, fieldUpdates, {\n\t\t\t\t\tactivity_skip: 1\n\t\t\t\t})\n\t\t\t\t.then(res => res.data)\n\t\t\t\t.then(fields => {\n\t\t\t\t\tthis.$store.dispatch('loadingFinished', id);\n\t\t\t\t\tthis.$store.dispatch('updateFields', {\n\t\t\t\t\t\tcollection: this.collection,\n\t\t\t\t\t\tupdates: fieldUpdates\n\t\t\t\t\t});\n\t\t\t\t\tthis.fields = fields;\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tthis.$store.dispatch('loadingFinished', id);\n\t\t\t\t\tthis.$events.emit('error', {\n\t\t\t\t\t\tnotify: this.$t('something_went_wrong_body'),\n\t\t\t\t\t\terror\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t}\n\t},\n\tbeforeRouteEnter(to, from, next) {\n\t\tconst { collection } = to.params;\n\n\t\tconst id = shortid.generate();\n\t\tstore.dispatch('loadingStart', { id });\n\n\t\treturn Promise.all([\n\t\t\tapi.getFields('directus_collections'),\n\t\t\tapi.getFields(collection, {\n\t\t\t\tsort: 'sort'\n\t\t\t})\n\t\t])\n\t\t\t.then(([directusRes, fieldsRes]) => ({\n\t\t\t\tdirectusFields: directusRes.data,\n\t\t\t\tfields: fieldsRes.data\n\t\t\t}))\n\t\t\t.then(({ directusFields, fields }) => {\n\t\t\t\tstore.dispatch('loadingFinished', id);\n\t\t\t\tnext(vm => {\n\t\t\t\t\tvm.$data.directusFields = keyBy(\n\t\t\t\t\t\tdirectusFields.map(field => ({\n\t\t\t\t\t\t\t...field,\n\t\t\t\t\t\t\tname: formatTitle(field.field),\n\t\t\t\t\t\t\tnote: field.note\n\t\t\t\t\t\t})),\n\t\t\t\t\t\t'field'\n\t\t\t\t\t);\n\t\t\t\t\tdelete vm.$data.directusFields.note.note;\n\t\t\t\t\tvm.$data.directusFields.note.options = {\n\t\t\t\t\t\tplaceholder: vm.$t('note_note')\n\t\t\t\t\t};\n\n\t\t\t\t\tvm.$data.fields = fields\n\t\t\t\t\t\t.map(field => ({\n\t\t\t\t\t\t\t...field,\n\t\t\t\t\t\t\tname: formatTitle(field.field)\n\t\t\t\t\t\t}))\n\t\t\t\t\t\t.sort((a, b) => {\n\t\t\t\t\t\t\tif (a.sort == b.sort) return 0;\n\t\t\t\t\t\t\tif (a.sort === null) return 1;\n\t\t\t\t\t\t\tif (b.sort === null) return -1;\n\t\t\t\t\t\t\treturn a.sort > b.sort ? 1 : -1;\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tstore.dispatch('loadingFinished', id);\n\t\t\t\tnext(vm => {\n\t\t\t\t\tvm.$data.error = error;\n\t\t\t\t});\n\t\t\t});\n\t}\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.settings-fields {\n\tpadding: var(--page-padding-top) var(--page-padding) var(--page-padding-bottom);\n}\n\nh2 {\n\tmargin-bottom: 20px;\n\n\t&:not(:first-of-type) {\n\t\tmargin-top: 60px;\n\t}\n}\n\n.table {\n\tbackground-color: var(--page-background-color);\n\tborder: var(--input-border-width) solid var(--input-border-color);\n\tborder-radius: var(--border-radius);\n\tborder-spacing: 0;\n\twidth: 100%;\n\tmax-width: 632px;\n\tmargin: 10px 0 20px;\n\n\t.header {\n\t\tborder-bottom: 2px solid var(--table-head-border-color);\n\t\theight: calc(var(--input-height) - 2px); // -2px, border on container\n\t\t.row {\n\t\t\theight: calc(var(--input-height) - 2px); // -2px, border on container\n\t\t}\n\t}\n\n\t.row {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\n\t\t> div {\n\t\t\tpadding: 5px 5px;\n\n\t\t\t&:not(.drag):not(.more-options) {\n\t\t\t\tflex-basis: 260px;\n\t\t\t}\n\t\t}\n\t}\n\n\t.inner.row {\n\t\tflex-grow: 1;\n\t\toverflow: hidden;\n\n\t\t> div {\n\t\t\tpadding: 0;\n\t\t}\n\t}\n\n\t.sortable-drag {\n\t\topacity: 0;\n\t}\n\n\t.dragging .sortable-chosen,\n\t.sortable-chosen:active {\n\t\tbackground-color: var(--highlight) !important;\n\t}\n\n\t.body {\n\t\t.dragging .row.link:hover {\n\t\t\tbackground-color: var(--page-background-color);\n\t\t}\n\n\t\t.row {\n\t\t\tcursor: pointer;\n\t\t\tposition: relative;\n\t\t\theight: calc(var(--input-height) - 2px); // -2px, border on container\n\t\t\tborder-bottom: 2px solid var(--table-row-border-color);\n\n\t\t\t&.inner,\n\t\t\t&:last-of-type {\n\t\t\t\tborder-bottom: none;\n\t\t\t}\n\n\t\t\t&:hover {\n\t\t\t\tbackground-color: var(--highlight);\n\t\t\t}\n\t\t}\n\n\t\t.drag {\n\t\t\tuser-select: none;\n\t\t\tcursor: -webkit-grab;\n\t\t\tcolor: var(--input-border-color);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: var(--input-border-color-hover);\n\t\t\t}\n\t\t}\n\n\t\t.monospace {\n\t\t\tfont-family: 'Roboto Mono', monospace;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t\tmargin-right: 8px;\n\t\t}\n\t}\n}\n\n.new-field {\n\tmargin-bottom: 40px;\n}\n\n.more-options {\n\tposition: absolute;\n\tright: 0;\n\ttop: 50%;\n\ttransform: translateY(-50%);\n\n\ti {\n\t\tcolor: var(--blue-grey-200);\n\t\ttransition: color var(--fast) var(--transition);\n\t}\n\n\t&:hover {\n\t\ti {\n\t\t\ttransition: none;\n\t\t\tcolor: var(--blue-grey-400);\n\t\t}\n\t}\n}\n\nem.note {\n\tcolor: var(--note-text-color);\n\tmargin-top: var(--input-note-margin);\n\tmargin-bottom: var(--form-vertical-gap);\n\tdisplay: block;\n}\n\nlabel.type-label {\n\tmargin-bottom: var(--input-label-margin);\n\ttext-transform: none;\n}\n\n.ctx-menu {\n\tlist-style: none;\n\tpadding: 0;\n\twidth: 136px;\n\n\tli {\n\t\tdisplay: block;\n\t}\n\n\ti {\n\t\tcolor: var(--blue-grey-300);\n\t\tmargin-right: 8px;\n\t\ttransition: color var(--fast) var(--transition);\n\t}\n\n\tbutton {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding: 4px;\n\t\tcolor: var(--blue-grey-400);\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\ttransition: color var(--fast) var(--transition);\n\t\t&:disabled,\n\t\t&[disabled] {\n\t\t\tcolor: var(--blue-grey-200);\n\t\t\ti {\n\t\t\t\tcolor: var(--blue-grey-200);\n\t\t\t}\n\t\t}\n\t\t&:not(:disabled):not(&[disabled]):hover {\n\t\t\tcolor: var(--blue-grey-900);\n\t\t\ttransition: none;\n\t\t\ti {\n\t\t\t\tcolor: var(--blue-grey-900);\n\t\t\t\ttransition: none;\n\t\t\t}\n\t\t}\n\t}\n}\n\nbutton {\n\t&.not-managed {\n\t\tpadding: 4px 8px;\n\t\tborder-radius: var(--border-radius);\n\t\tbackground-color: var(--button-primary-background-color);\n\t\tcolor: var(--button-primary-text-color);\n\n\t\tmin-width: auto;\n\t\theight: auto;\n\t\tborder: 0;\n\n\t\t&:hover {\n\t\t\tbackground-color: var(--button-primary-background-color-hover);\n\t\t\tcolor: var(--button-primary-text-color);\n\t\t}\n\t}\n}\n\n.optional {\n\tcolor: var(--blue-grey-200);\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fields.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fields.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./fields.vue?vue&type=template&id=3de75d1a&scoped=true&\"\nimport script from \"./fields.vue?vue&type=script&lang=js&\"\nexport * from \"./fields.vue?vue&type=script&lang=js&\"\nimport style0 from \"./fields.vue?vue&type=style&index=0&id=3de75d1a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3de75d1a\",\n  null\n  \n)\n\nexport default component.exports","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./field-setup.vue?vue&type=style&index=0&id=d55c2a0e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./field-setup.vue?vue&type=style&index=0&id=d55c2a0e&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./field-duplicate.vue?vue&type=style&index=0&id=07160082&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./field-duplicate.vue?vue&type=style&index=0&id=07160082&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fields.vue?vue&type=style&index=0&id=3de75d1a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fields.vue?vue&type=style&index=0&id=3de75d1a&lang=scss&scoped=true&\""],"sourceRoot":""}