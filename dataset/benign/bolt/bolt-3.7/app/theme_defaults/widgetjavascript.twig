<script>/*<![CDATA[*/ document.addEventListener("DOMContentLoaded",function(a){for(var b=document.querySelectorAll("[data-widget-url]"),c=0;c<b.length;c++)!function(a){if("true"===a.getAttribute("data-defer")){var b=new XMLHttpRequest;b.open("GET",a.getAttribute("data-widget-url"),!0),b.onload=function(){this.status>=200&&this.status<400?a.innerHTML=this.response:console.log("Failed to get widget. Status: "+this.status)},b.onerror=function(){console.log("Failed to get widget. Connection error.")},b.send()}}(b[c])}); /*]]>*/</script>
{#

Uncompressed version of the script, before compression using jscompress.com:

document.addEventListener("DOMContentLoaded", function(event) {

    var widgets = document.querySelectorAll('[data-widget-url]');

    for (var i = 0; i < widgets.length; i++) {
        (function (widget) {
            if (widget.getAttribute('data-defer') !== 'true') {
                return;
            }

            var request = new XMLHttpRequest();
            request.open('GET', widget.getAttribute('data-widget-url'), true);

            request.onload = function() {
                if (this.status >= 200 && this.status < 400) {
                    widget.innerHTML = this.response;
                } else {
                    console.log('Failed to get widget. Status: ' + this.status);
                }
            };

            request.onerror = function() {
                console.log('Failed to get widget. Connection error.');
            };

            request.send();
        })(widgets[i]);
    }
});

#}
